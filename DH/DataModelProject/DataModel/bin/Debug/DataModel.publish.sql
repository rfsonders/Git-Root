/*
Deployment script for DataModel

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "DataModel"
:setvar DefaultFilePrefix "DataModel"
:setvar DefaultDataPath "E:\SQLServer\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\"
:setvar DefaultLogPath "E:\SQLServer\MSSQL10_50.MSSQLSERVER\MSSQL\DATA\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
USE [master];


GO

IF (DB_ID(N'$(DatabaseName)') IS NOT NULL) 
BEGIN
    ALTER DATABASE [$(DatabaseName)]
    SET SINGLE_USER WITH ROLLBACK IMMEDIATE;
    DROP DATABASE [$(DatabaseName)];
END

GO
PRINT N'Creating $(DatabaseName)...'
GO
CREATE DATABASE [$(DatabaseName)]
    ON 
    PRIMARY(NAME = [$(DatabaseName)], FILENAME = N'$(DefaultDataPath)$(DefaultFilePrefix)_Primary.mdf')
    LOG ON (NAME = [$(DatabaseName)_log], FILENAME = N'$(DefaultLogPath)$(DefaultFilePrefix)_Primary.ldf') COLLATE SQL_Latin1_General_CP1_CI_AS
GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                NUMERIC_ROUNDABORT OFF,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL,
                RECOVERY FULL,
                CURSOR_CLOSE_ON_COMMIT OFF,
                AUTO_CREATE_STATISTICS ON,
                AUTO_SHRINK OFF,
                AUTO_UPDATE_STATISTICS ON,
                RECURSIVE_TRIGGERS OFF 
            WITH ROLLBACK IMMEDIATE;
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_CLOSE OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ALLOW_SNAPSHOT_ISOLATION OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET READ_COMMITTED_SNAPSHOT OFF;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET AUTO_UPDATE_STATISTICS_ASYNC OFF,
                PAGE_VERIFY NONE,
                DATE_CORRELATION_OPTIMIZATION OFF,
                DISABLE_BROKER,
                PARAMETERIZATION SIMPLE,
                SUPPLEMENTAL_LOGGING OFF 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET TRUSTWORTHY OFF,
        DB_CHAINING OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
IF IS_SRVROLEMEMBER(N'sysadmin') = 1
    BEGIN
        IF EXISTS (SELECT 1
                   FROM   [master].[dbo].[sysdatabases]
                   WHERE  [name] = N'$(DatabaseName)')
            BEGIN
                EXECUTE sp_executesql N'ALTER DATABASE [$(DatabaseName)]
    SET HONOR_BROKER_PRIORITY OFF 
    WITH ROLLBACK IMMEDIATE';
            END
    END
ELSE
    BEGIN
        PRINT N'The database settings cannot be modified. You must be a SysAdmin to apply these settings.';
    END


GO
USE [$(DatabaseName)];


GO
IF fulltextserviceproperty(N'IsFulltextInstalled') = 1
    EXECUTE sp_fulltext_database 'enable';


GO
PRINT N'Creating [Protected]...';


GO
CREATE SCHEMA [Protected]
    AUTHORIZATION [dbo];


GO
PRINT N'Creating [Protected].[SiteReportedLocation]...';


GO
CREATE TABLE [Protected].[SiteReportedLocation] (
    [SiteReportedLocationID] INT      IDENTITY (1, 1) NOT NULL,
    [SiteID]                 INT      NOT NULL,
    [ReportedLocationID]     INT      NOT NULL,
    [LoadID]                 INT      NULL,
    [DataSourceID]           INT      NULL,
    [RowStartDate]           DATETIME NULL,
    [RowEndDate]             DATETIME NULL,
    [RowCurrentFlag]         INT      NULL,
    CONSTRAINT [IDX_PK_SiteReportedLocation1] PRIMARY KEY CLUSTERED ([SiteReportedLocationID] ASC, [SiteID] ASC)
);


GO
PRINT N'Creating [Protected].[ReportedLocationType]...';


GO
CREATE TABLE [Protected].[ReportedLocationType] (
    [ReportedLocationTypeID]   INT           IDENTITY (1, 1) NOT NULL,
    [ReportedLocationTypeName] VARCHAR (256) NULL,
    [ReportedLocationName]     VARCHAR (256) NULL,
    [LoadID]                   INT           NOT NULL,
    [DataSourceID]             INT           NOT NULL,
    [RowStartDate]             DATETIME      NOT NULL,
    [RowEndDate]               DATETIME      NULL,
    [RowCurrentFlag]           INT           NOT NULL,
    CONSTRAINT [IDX_PK_ReportedLocationType1] PRIMARY KEY CLUSTERED ([ReportedLocationTypeID] ASC)
);


GO
PRINT N'Creating [Protected].[ReportedLocationPhysicalLocation]...';


GO
CREATE TABLE [Protected].[ReportedLocationPhysicalLocation] (
    [ReportedLocationPhysicalLocationID] INT      IDENTITY (1, 1) NOT NULL,
    [PhysicalLocationID]                 INT      NOT NULL,
    [ReportedLocationID]                 INT      NOT NULL,
    [LoadID]                             INT      NOT NULL,
    [DataSourceID]                       INT      NOT NULL,
    [RowStartDate]                       DATETIME NOT NULL,
    [RowEndDate]                         DATETIME NULL,
    [RowCurrentFlag]                     INT      NOT NULL,
    CONSTRAINT [IDX_PK_ReportedLocationPhysicalLocation1] PRIMARY KEY CLUSTERED ([ReportedLocationPhysicalLocationID] ASC)
);


GO
PRINT N'Creating [Protected].[ReportedLocation]...';


GO
CREATE TABLE [Protected].[ReportedLocation] (
    [ReportedLocationID]                INT              IDENTITY (1, 1) NOT NULL,
    [ReportedLocationStreetAddress]     VARCHAR (256)    NULL,
    [ReportedLocationCityName]          VARCHAR (256)    NULL,
    [ReportedLocationStateName]         VARCHAR (256)    NULL,
    [ReportedLocationCountyName]        VARCHAR (256)    NULL,
    [ReportedLocationZipCode]           CHAR (5)         NULL,
    [ReportedLocationZipCodePlusFour]   CHAR (4)         NULL,
    [ReportedLocationLatitude]          DECIMAL (18, 15) NULL,
    [ReportedLocationLongitude]         DECIMAL (18, 15) NULL,
    [ReportedLocationIncompleteFlag]    CHAR (1)         NULL,
    [ReportedLocationLevelOfDetailCode] VARCHAR (10)     NULL,
    [LoadID]                            INT              NOT NULL,
    [DataSourceID]                      INT              NOT NULL,
    [RowStartDate]                      DATETIME         NOT NULL,
    [RowEndDate]                        DATETIME         NULL,
    [RowCurrentFlag]                    INT              NOT NULL,
    CONSTRAINT [IDX_PK_ReportedLocation1] PRIMARY KEY CLUSTERED ([ReportedLocationID] ASC)
);


GO
PRINT N'Creating [Protected].[PhysicalLocationGeoRegion]...';


GO
CREATE TABLE [Protected].[PhysicalLocationGeoRegion] (
    [PhysicalLocationGeoRegionID] INT      IDENTITY (1, 1) NOT NULL,
    [PhysicalLocationID]          INT      NOT NULL,
    [GeographicRegionID]          INT      NOT NULL,
    [LoadID]                      INT      NOT NULL,
    [DataSourceID]                INT      NOT NULL,
    [RowStartDate]                DATETIME NOT NULL,
    [RowEndDate]                  DATETIME NOT NULL,
    [RowCurrentFlag]              INT      NOT NULL,
    [RowHash]                     AS       (checksum(0)) PERSISTED NOT NULL,
    CONSTRAINT [IDX_PK_PhysicalLocationGeoRegion1] PRIMARY KEY CLUSTERED ([PhysicalLocationGeoRegionID] ASC)
);


GO
PRINT N'Creating [Protected].[PhysicalLocationGeoRegion].[IDX_PhysicalLocationGeoRegion2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_PhysicalLocationGeoRegion2]
    ON [Protected].[PhysicalLocationGeoRegion]([GeographicRegionID] ASC);


GO
PRINT N'Creating [Protected].[PhysicalLocationGeoRegion].[IDX_PhysicalLocationGeoRegion3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_PhysicalLocationGeoRegion3]
    ON [Protected].[PhysicalLocationGeoRegion]([PhysicalLocationID] ASC);


GO
PRINT N'Creating [Protected].[PhysicalLocation]...';


GO
CREATE TABLE [Protected].[PhysicalLocation] (
    [PhysicalLocationID]                INT               IDENTITY (1, 1) NOT NULL,
    [PhysicalLocationStreetAddress]     VARCHAR (256)     NULL,
    [PhysicalLocationCityName]          VARCHAR (256)     NULL,
    [PhysicalLocationStateAbbreviation] VARCHAR (10)      NULL,
    [PhysicalLocationZipCode]           CHAR (5)          NULL,
    [PhysicalLocationZipPlusFour]       CHAR (4)          NULL,
    [PhysicalLocationLatitude]          DECIMAL (18, 15)  NULL,
    [PhysicalLocationLongitude]         DECIMAL (18, 15)  NULL,
    [PhysicalLocationGeography]         [sys].[geography] NULL,
    [GeocodingProviderName]             VARCHAR (256)     NOT NULL,
    [GeocodingDateTime]                 DATETIME          NOT NULL,
    [GeocodingAccuracyCode]             VARCHAR (10)      NOT NULL,
    [LoadID]                            INT               NOT NULL,
    [DataSourceID]                      INT               NOT NULL,
    [RowStartDate]                      DATETIME          NOT NULL,
    [RowEndDate]                        DATETIME          NOT NULL,
    [RowCurrentFlag]                    INT               NULL,
    CONSTRAINT [IDX_PK_PhysicalLocation1] PRIMARY KEY CLUSTERED ([PhysicalLocationID] ASC)
);


GO
PRINT N'Creating [Protected].[PersonReportedLocation]...';


GO
CREATE TABLE [Protected].[PersonReportedLocation] (
    [PersonReportedLocationID] INT      IDENTITY (1, 1) NOT NULL,
    [ReportedLocationID]       INT      NOT NULL,
    [ReportedLocationTypeID]   INT      NOT NULL,
    [PersonID]                 INT      NOT NULL,
    [LoadID]                   INT      NULL,
    [DataSourceID]             INT      NOT NULL,
    [RowStartDate]             DATETIME NOT NULL,
    [RowEndDate]               DATETIME NOT NULL,
    [RowCurrentFlag]           INT      NULL,
    CONSTRAINT [IDX_PK_PersonReportedLocation1] PRIMARY KEY NONCLUSTERED ([PersonReportedLocationID] ASC)
);


GO
PRINT N'Creating [Protected].[Person]...';


GO
CREATE TABLE [Protected].[Person] (
    [PersonID]                   INT              IDENTITY (1, 1) NOT NULL,
    [PersonImportGUID]           UNIQUEIDENTIFIER NOT NULL,
    [PersonLastName]             VARCHAR (256)    NULL,
    [PersonFirstName]            VARCHAR (256)    NULL,
    [PersonMiddleInitial]        CHAR (1)         NULL,
    [PersonMiddleName]           VARCHAR (256)    NULL,
    [PersonMaidenName]           VARCHAR (256)    NULL,
    [PersonSuffixName]           VARCHAR (256)    NULL,
    [PersonSSN]                  CHAR (9)         NULL,
    [PersonDateofBirth]          DATETIME         NULL,
    [PersonYearofBirth]          SMALLINT         NULL,
    [PersonDateofDeath]          DATETIME         NULL,
    [RaceID]                     INT              NULL,
    [EthnicityID]                INT              NULL,
    [SexID]                      INT              NULL,
    [EducationLevelID]           INT              NULL,
    [IncomeID]                   INT              NULL,
    [PrimaryLanguageID]          INT              NOT NULL,
    [PovertyLevelID]             INT              NOT NULL,
    [HouseholdSizeID]            INT              NOT NULL,
    [HomelessFlag]               CHAR (1)         NULL,
    [USCitizenFlag]              CHAR (1)         NULL,
    [ExternalSystemActiveFlag]   CHAR (1)         NULL,
    [ExternalSystemBusinessKey]  VARCHAR (255)    NULL,
    [ExternalSystemRowEndDate]   DATE             NULL,
    [ExternalSystemRowStartDate] DATE             NULL,
    [LoadID]                     INT              NOT NULL,
    [DataSourceID]               INT              NOT NULL,
    [RowStartDate]               DATETIME         NOT NULL,
    [RowEndDate]                 DATETIME         NOT NULL,
    [RowCurrentFlag]             INT              NOT NULL,
    CONSTRAINT [IDX_PK_Person1] PRIMARY KEY CLUSTERED ([PersonID] ASC)
);


GO
PRINT N'Creating [Protected].[Person].[IDX_Person2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Person2]
    ON [Protected].[Person]([RowCurrentFlag] ASC)
    INCLUDE([PersonID], [PersonDateofBirth]);


GO
PRINT N'Creating [Protected].[Person].[IDX_Person3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Person3]
    ON [Protected].[Person]([PersonImportGUID] ASC)
    INCLUDE([PersonID], [RowStartDate], [RowEndDate]);


GO
PRINT N'Creating [Protected].[Person].[IDX_Person4]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Person4]
    ON [Protected].[Person]([RowCurrentFlag] ASC)
    INCLUDE([PersonID], [PersonDateofBirth]);


GO
PRINT N'Creating [Protected].[Person].[IDX_Person5]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Person5]
    ON [Protected].[Person]([RowCurrentFlag] ASC, [PersonDateofBirth] ASC)
    INCLUDE([PersonID], [PersonImportGUID]);


GO
PRINT N'Creating [Protected].[ExternalSystem]...';


GO
CREATE TABLE [Protected].[ExternalSystem] (
    [EntityExternalSystemID]              INT              IDENTITY (1, 1) NOT NULL,
    [ExternalSystemName]                  VARCHAR (256)    NOT NULL,
    [ExternalSystemIDInteger]             INT              NULL,
    [ExternalSystemIDString]              VARCHAR (128)    NULL,
    [ExternalSystemDatabaseName]          VARCHAR (256)    NULL,
    [ExternalSystemSchemaName]            VARCHAR (256)    NULL,
    [ExternalSystemTableName]             VARCHAR (256)    NOT NULL,
    [ExternalSystemIDColumnName]          VARCHAR (256)    NULL,
    [ExternalSystemRecordStartDate]       DATETIME         NULL,
    [ExternalSystemRecordEndDate]         DATETIME         NULL,
    [ExternalSystemRecordActiveFlag]      CHAR (1)         NULL,
    [ExternalSystemRecordLastUpdatedDate] DATETIME         NULL,
    [DataWarehouseTableTypeName]          VARCHAR (256)    NULL,
    [EntityChecksumColumnListText]        VARCHAR (MAX)    NULL,
    [EntityTypeName]                      VARCHAR (256)    NULL,
    [EntityImportGUID]                    UNIQUEIDENTIFIER NOT NULL,
    [EntityFinalTableName]                VARCHAR (256)    NULL,
    [LoadID]                              INT              NOT NULL,
    [DataSourceID]                        INT              NOT NULL,
    [RowStartDate]                        DATETIME         NOT NULL,
    [RowEndDate]                          DATETIME         NOT NULL,
    [RowCurrentFlag]                      INT              NULL,
    CONSTRAINT [IDX_PK_PersonExternalSystem1] PRIMARY KEY CLUSTERED ([EntityExternalSystemID] ASC)
);


GO
PRINT N'Creating [dbo].[Antigen]...';


GO
CREATE TABLE [dbo].[Antigen] (
    [AntigenID]           INT          IDENTITY (1, 1) NOT NULL,
    [ReportableDiseaseID] INT          NOT NULL,
    [AntigenName]         VARCHAR (50) NOT NULL,
    [LoadID]              INT          NOT NULL,
    [DataSourceID]        INT          NOT NULL,
    [RowStartDate]        DATETIME     NOT NULL,
    [RowEndDate]          DATETIME     NOT NULL,
    [RowCurrentFlag]      INT          NULL,
    CONSTRAINT [IDX_PK_Antigen1] PRIMARY KEY CLUSTERED ([AntigenID] ASC)
);


GO
PRINT N'Creating [dbo].[Antigen].[IDX_Antigen2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Antigen2]
    ON [dbo].[Antigen]([ReportableDiseaseID] ASC);


GO
PRINT N'Creating [dbo].[AntigenContraindication]...';


GO
CREATE TABLE [dbo].[AntigenContraindication] (
    [AntigenID]                      INT      NOT NULL,
    [ImmunizationContraindicationID] INT      NOT NULL,
    [LoadID]                         INT      NOT NULL,
    [DataSourceID]                   INT      NOT NULL,
    [RowStartDate]                   DATETIME NOT NULL,
    [RowEndDate]                     DATETIME NOT NULL,
    [RowCurrentFlag]                 INT      NOT NULL,
    [RowHash]                        AS       (checksum([AntigenID], [ImmunizationContraindicationID])) PERSISTED NOT NULL,
    CONSTRAINT [IDX_PK_AntigenContraindication1] PRIMARY KEY CLUSTERED ([AntigenID] ASC, [ImmunizationContraindicationID] ASC)
);


GO
PRINT N'Creating [dbo].[AntigenContraindication].[IDX_AntigenContraindication2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_AntigenContraindication2]
    ON [dbo].[AntigenContraindication]([AntigenID] ASC);


GO
PRINT N'Creating [dbo].[AntigenContraindication].[IDX_AntigenContraindication3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_AntigenContraindication3]
    ON [dbo].[AntigenContraindication]([ImmunizationContraindicationID] ASC);


GO
PRINT N'Creating [dbo].[Birth]...';


GO
CREATE TABLE [dbo].[Birth] (
    [BirthCertificateNumber]                                          INT             NOT NULL,
    [HealthcareActivityID]                                            INT             NOT NULL,
    [AttendantTypeName]                                               VARCHAR (256)   NULL,
    [BirthPluralityNumber]                                            DECIMAL (18, 9) NULL,
    [BirthOrderNumber]                                                DECIMAL (18, 9) NULL,
    [BirthChildsSexID]                                                VARCHAR (256)   NULL,
    [BirthWeightGrams]                                                INT             NULL,
    [BirthWeightOunces]                                               DECIMAL (18, 9) NULL,
    [BirthWeightPriority]                                             VARCHAR (256)   NULL,
    [GestationEstimateWeeks]                                          INT             NULL,
    [GestationObstetricEstimateWeeks]                                 INT             NULL,
    [GestationClinicalEstimateWeeks]                                  INT             NULL,
    [APGAR5minNumber]                                                 DECIMAL (18, 9) NULL,
    [APGAR10minNumber]                                                DECIMAL (18, 9) NULL,
    [PrenatalVisitCount]                                              INT             NULL,
    [MotherTransferredFlag]                                           CHAR (1)        NULL,
    [MotherReceivedWICFlag]                                           CHAR (1)        NULL,
    [MotherReceivedPrenatalCareFlag]                                  CHAR (1)        NULL,
    [FirstPrenatalVisitDate]                                          DATETIME        NULL,
    [LastPrenatalVisitDate]                                           DATETIME        NULL,
    [PregancyWeightGainedPounds]                                      DECIMAL (18, 9) NULL,
    [PreviousPregnanciesLivingCount]                                  INT             NULL,
    [PreviousPregnanciesDeadCount]                                    INT             NULL,
    [LastLiveBirthDate]                                               DATETIME        NULL,
    [PreviousTerminationsCount]                                       INT             NULL,
    [LastTerminationDate]                                             DATETIME        NULL,
    [PrePregnancyCigarettesPerDayCount]                               INT             NULL,
    [FirstTrimesterCigarettesPerDayCount]                             INT             NULL,
    [SecondTrimesterCigarettesPerDayCount]                            INT             NULL,
    [ThirdTrimesterCigarettesPerDayCount]                             INT             NULL,
    [PrePregnancyDrinksPerWeekCount]                                  INT             NULL,
    [FirstTrimesterDrinksPerWeekCount]                                INT             NULL,
    [SecondTrimesterDrinksPerWeekCount]                               INT             NULL,
    [ThridTrimesterDrinksPerWeekCount]                                INT             NULL,
    [LastNormalMensisDate]                                            DATETIME        NULL,
    [InfantTransferredWithin24HoursOfDeliveryFlag]                    CHAR (1)        NULL,
    [InfantReceivingBreastMilkAtDischargeFlag]                        CHAR (1)        NULL,
    [PrenatalHepatitisBScreenFlag]                                    CHAR (1)        NULL,
    [PrenatalHivScreenFlag]                                           CHAR (1)        NULL,
    [InfantReceivedHepatitisBImmunizationFlag]                        CHAR (1)        NULL,
    [InfantReceivedHepatitisBImmunizationDate]                        DATETIME        NULL,
    [RiskFactorsPrepregnancyDiabetesFlag]                             CHAR (1)        NULL,
    [RiskFactorsGestationalDiabetesFlag]                              CHAR (1)        NULL,
    [RiskFactorsPrepregnancyHypertensionFlag]                         CHAR (1)        NULL,
    [RiskFactorsGestationalHypertensionFlag]                          CHAR (1)        NULL,
    [RiskFactorsEclampsiaFlag]                                        CHAR (1)        NULL,
    [RiskFactorsHellpSyndromeFlag]                                    CHAR (1)        NULL,
    [RiskFactorsPreviousPretermBirthFlag]                             CHAR (1)        NULL,
    [RiskFactorsPreviousInfantOver4000GramsFlag]                      CHAR (1)        NULL,
    [RiskFactorsOtherPreviousPoorOutcomeFlag]                         CHAR (1)        NULL,
    [RiskFactorsPregnancyResultedFromInfertilityTreatmentFlag]        CHAR (1)        NULL,
    [RiskFactorsInfertilityTreatmentAsDrugsInseminationFlag]          CHAR (1)        NULL,
    [RiskFactorsAssistedReproductiveTechnologyFlag]                   CHAR (1)        NULL,
    [RiskFactorsPreviousCesareanFlag]                                 CHAR (1)        NULL,
    [RiskFactorsNumberOfPreviousCesareansFlag]                        CHAR (1)        NULL,
    [RiskFactorsAsthmaFlag]                                           CHAR (1)        NULL,
    [RiskFactorsGenitalHerpesFlag]                                    CHAR (1)        NULL,
    [RiskFactorsOtherFlag]                                            CHAR (1)        NULL,
    [RiskFactorsNoneFlag]                                             CHAR (1)        NULL,
    [RiskFactorsUnknownFlag]                                          CHAR (1)        NULL,
    [PrenatalSyphilisScreenFlag]                                      CHAR (1)        NULL,
    [InfectionsGonorrheaFlag]                                         CHAR (1)        NULL,
    [InfectionsChlamydiaFlag]                                         CHAR (1)        NULL,
    [InfectionsCytomegalovirusFlag]                                   CHAR (1)        NULL,
    [InfectionsHepatitisBFlag]                                        CHAR (1)        NULL,
    [InfectionsHepatitisCFlag]                                        CHAR (1)        NULL,
    [InfectionsHivAidsFlag]                                           CHAR (1)        NULL,
    [InfectionsHerpesSimplexVirusFlag]                                CHAR (1)        NULL,
    [InfectionsRubellaFlag]                                           CHAR (1)        NULL,
    [InfectionsBacterialVaginosisFlag]                                CHAR (1)        NULL,
    [InfectionsGroupBStrepFlag]                                       CHAR (1)        NULL,
    [InfectionsOtherFlag]                                             CHAR (1)        NULL,
    [InfectionsNoneFlag]                                              CHAR (1)        NULL,
    [InfectionsUnknownFlag]                                           CHAR (1)        NULL,
    [ObProceduresCervicalCerclageFlag]                                CHAR (1)        NULL,
    [ObProceduresTocolysisFlag]                                       CHAR (1)        NULL,
    [ObProceduresExternalCephalicVersionSuccessfulFlag]               CHAR (1)        NULL,
    [ObProceduresExternalCephalicVersionFailedFlag]                   CHAR (1)        NULL,
    [ObProceduresOtherFlag]                                           CHAR (1)        NULL,
    [ObProceduresNoneFlag]                                            CHAR (1)        NULL,
    [ObProceduresUnknownFlag]                                         CHAR (1)        NULL,
    [OnsetOfLaborPrematureRuptureOfMembranesFlag]                     CHAR (1)        NULL,
    [OnsetOfLaborPrecipitousFlag]                                     CHAR (1)        NULL,
    [OnsetOfLaborProlongedFlag]                                       CHAR (1)        NULL,
    [OnsetOfLaborOtherFlag]                                           CHAR (1)        NULL,
    [OnsetOfLaborNoneFlag]                                            CHAR (1)        NULL,
    [OnsetOfLaborUnknownFlag]                                         CHAR (1)        NULL,
    [LaborDeliveryInductionOfLaborFlag]                               CHAR (1)        NULL,
    [LaborDeliveryAugmentationOfLaborFlag]                            CHAR (1)        NULL,
    [LaborDeliveryNonVertexPresentationFlag]                          CHAR (1)        NULL,
    [LaborDeliverySteroidsForFetalLungMaturationReceivedByMotherFlag] CHAR (1)        NULL,
    [LaborDeliveryAntibioticsReceivedByMotherDuringLaborFlag]         CHAR (1)        NULL,
    [LaborDeliveryClinicalChorioamnionitisFlag]                       CHAR (1)        NULL,
    [LaborDeliveryModerateHeavyMeconiumStainingOfAmnioticFluidFlag]   CHAR (1)        NULL,
    [LaborDeliveryFetalIntoleranceOfLaborFlag]                        CHAR (1)        NULL,
    [LaborDeliveryEpiduralOrSpinalAnesthesiaDuringLaborFlag]          CHAR (1)        NULL,
    [LaborDeliveryOtherFlag]                                          CHAR (1)        NULL,
    [LaborDeliveryNoneFlag]                                           CHAR (1)        NULL,
    [LaborDeliveryUnknownFlag]                                        CHAR (1)        NULL,
    [MethodForcepsAttemptedFlag]                                      CHAR (1)        NULL,
    [MethodVacuumExtractionAttemptedFlag]                             CHAR (1)        NULL,
    [FetalPresentationCephalicFlag]                                   CHAR (1)        NULL,
    [FetalPresentationBreechFlag]                                     CHAR (1)        NULL,
    [FetalPresentationOtherFlag]                                      CHAR (1)        NULL,
    [FetalPresentationUnknownFlag]                                    CHAR (1)        NULL,
    [TrialOfLaborPriorToCesareanFlag]                                 CHAR (1)        NULL,
    [RouteMethodVaginalSpontaneousFlag]                               CHAR (1)        NULL,
    [RouteMethodVaginalForcepsFlag]                                   CHAR (1)        NULL,
    [RouteMethodVaginalVacuumFlag]                                    CHAR (1)        NULL,
    [RouteMethodCesareanFlag]                                         CHAR (1)        NULL,
    [RouteMethodUnknownFlag]                                          CHAR (1)        NULL,
    [MaternalMorbidityMaternalTransfusionFlag]                        CHAR (1)        NULL,
    [MaternalMorbidity3RdOr4ThDegreePerinealLacerationFlag]           CHAR (1)        NULL,
    [MaternalMorbidityRupturedUterusFlag]                             CHAR (1)        NULL,
    [MaternalMorbidityUnplannedHysterectomyFlag]                      CHAR (1)        NULL,
    [MaternalMorbidityAdmissionToIntensiveCareFlag]                   CHAR (1)        NULL,
    [MaternalMorbidityUnplannedOperatingRoomProcedureFlag]            CHAR (1)        NULL,
    [MaternalMorbidityVbacFlag]                                       CHAR (1)        NULL,
    [MaternalMorbidityAbruptioPlacentaFlag]                           CHAR (1)        NULL,
    [MaternalMorbidityPlacentaPreviaFlag]                             CHAR (1)        NULL,
    [MaternalMorbidityCephalopelvicDisproportionFlag]                 CHAR (1)        NULL,
    [MaternalMorbidityCordProlapseFlag]                               CHAR (1)        NULL,
    [MaternalMorbidityOtherFlag]                                      CHAR (1)        NULL,
    [MaternalMorbidityNoneFlag]                                       CHAR (1)        NULL,
    [MaternalMorbidityUnknownFlag]                                    CHAR (1)        NULL,
    [AbnormalConditionsAssistedVentilationFollowingDeliveryFlag]      CHAR (1)        NULL,
    [AbnormalConditionsAssistedVentilationForOver6HoursFlag]          CHAR (1)        NULL,
    [AbnormalConditionsSupplementalOxygenFlag]                        CHAR (1)        NULL,
    [AbnormalConditionsNicuAdmissionFlag]                             CHAR (1)        NULL,
    [AbnormalConditionsSurfactantReplacementTherapyFlag]              CHAR (1)        NULL,
    [AbnormalConditionsAntibioticsForSuspectedNeonatalSepsisFlag]     CHAR (1)        NULL,
    [AbnormalConditionsSeizureFlag]                                   CHAR (1)        NULL,
    [AbnormalConditionsBirthInjuryFlag]                               CHAR (1)        NULL,
    [AbnormalConditionsHyalineMembraneDiseaseRdsFlag]                 CHAR (1)        NULL,
    [AbnormalConditionsMeconiumAspirationSyndromeFlag]                CHAR (1)        NULL,
    [AbnormalConditionsHypoglycemiaFlag]                              CHAR (1)        NULL,
    [AbnormalConditionsHyperbilirubinemiaFlag]                        CHAR (1)        NULL,
    [AbnormalConditionsOtherFlag]                                     CHAR (1)        NULL,
    [AbnormalConditionsNoneFlag]                                      CHAR (1)        NULL,
    [AbnormalConditionsUnknownFlag]                                   CHAR (1)        NULL,
    [CongenitalAnomaliesAnencephalyFlag]                              CHAR (1)        NULL,
    [CongenitalAnomaliesMeningomyeloceleSpinaBifidaFlag]              CHAR (1)        NULL,
    [CongenitalAnomaliesCyanoticCongenitalHeartDiseaseFlag]           CHAR (1)        NULL,
    [CongenitalAnomaliesCongenitalDiaphragmaticHerniaFlag]            CHAR (1)        NULL,
    [CongenitalAnomaliesOmphaloceleFlag]                              CHAR (1)        NULL,
    [CongenitalAnomaliesGastroschisisFlag]                            CHAR (1)        NULL,
    [CongenitalAnomaliesLimbReductionDefectFlag]                      CHAR (1)        NULL,
    [CongenitalAnomaliesCleftLipFlag]                                 CHAR (1)        NULL,
    [CongenitalAnomaliesCleftPalateFlag]                              CHAR (1)        NULL,
    [CongenitalAnomaliesDownSyndromeFlag]                             CHAR (1)        NULL,
    [CongenitalAnomaliesDownSyndromeConfirmedFlag]                    CHAR (1)        NULL,
    [CongenitalAnomaliesDownSyndromePendingFlag]                      CHAR (1)        NULL,
    [CongenitalAnomaliesOtherChromosomalDisorderFlag]                 CHAR (1)        NULL,
    [CongenitalAnomaliesOtherChromosomalDisorderConfirmedFlag]        CHAR (1)        NULL,
    [CongenitalAnomaliesOtherChromosomalDisorderPendingFlag]          CHAR (1)        NULL,
    [CongenitalAnomaliesHypospadiasFlag]                              CHAR (1)        NULL,
    [CongenitalAnomaliesUrogenitalAnomaliesFlag]                      CHAR (1)        NULL,
    [CongenitalAnomaliesCirculatoryRespiratoryAnomaliesFlag]          CHAR (1)        NULL,
    [CongenitalAnomaliesMusculoskeletalAnomaliesFlag]                 CHAR (1)        NULL,
    [CongenitalAnomaliesOtherFlag]                                    CHAR (1)        NULL,
    [CongenitalAnomaliesNotStatedFlag]                                CHAR (1)        NULL,
    [CongenitalAnomaliesNoneFlag]                                     CHAR (1)        NULL,
    [CongenitalAnomaliesUnknownFlag]                                  CHAR (1)        NULL,
    [DataSourceID]                                                    INT             NOT NULL,
    [LoadID]                                                          INT             NOT NULL,
    [RowStartDate]                                                    DATETIME        NOT NULL,
    [RowEndDate]                                                      DATETIME        NULL,
    [RowCurrentFlag]                                                  INT             NULL,
    CONSTRAINT [IDX_PK_Birth1] PRIMARY KEY NONCLUSTERED ([HealthcareActivityID] ASC, [BirthCertificateNumber] ASC)
);


GO
PRINT N'Creating [dbo].[DataSource]...';


GO
CREATE TABLE [dbo].[DataSource] (
    [DataSourceID]   INT            IDENTITY (1, 1) NOT NULL,
    [DataSourceName] VARCHAR (256)  NOT NULL,
    [Description]    VARCHAR (1024) NULL,
    [LoadID]         INT            NOT NULL,
    [RowEndDate]     DATETIME       NOT NULL,
    [RowStartDate]   DATETIME       NOT NULL,
    [RowCurrentFlag] INT            NULL,
    CONSTRAINT [IDX_PK_DataSource1] PRIMARY KEY CLUSTERED ([DataSourceID] ASC)
);


GO
PRINT N'Creating [dbo].[Death]...';


GO
CREATE TABLE [dbo].[Death] (
    [DeathCertificateNumber]     INT           NOT NULL,
    [HealthcareActivityID]       INT           NOT NULL,
    [DeathUnderlyingCauseCode]   VARCHAR (10)  NOT NULL,
    [DeathAcmeCode1]             VARCHAR (10)  NULL,
    [DeathAcmeCode2]             VARCHAR (10)  NULL,
    [DeathAcmeCode3]             VARCHAR (10)  NULL,
    [DeathAcmeCode4]             VARCHAR (10)  NULL,
    [DeathAcmeCode5]             VARCHAR (10)  NULL,
    [DeathAcmeCode6]             VARCHAR (10)  NULL,
    [DeathAcmeCode7]             VARCHAR (10)  NULL,
    [DeathAcmeCode8]             VARCHAR (10)  NULL,
    [DeathAcmeCode9]             VARCHAR (10)  NULL,
    [DeathAcmeCode10]            VARCHAR (10)  NULL,
    [DeathAcmeCode11]            VARCHAR (10)  NULL,
    [DeathInjuryCode]            VARCHAR (10)  NULL,
    [DeathInjuryCode1]           VARCHAR (10)  NULL,
    [DeathInjuryCode2]           VARCHAR (10)  NULL,
    [DeathInjuryCode3]           VARCHAR (10)  NULL,
    [DeathInjuryCode4]           VARCHAR (10)  NULL,
    [DeathInjuryCode5]           VARCHAR (10)  NULL,
    [DeathInjuryCode6]           VARCHAR (10)  NULL,
    [DeathInjuryCode7]           VARCHAR (10)  NULL,
    [DeathInjuryCode8]           VARCHAR (10)  NULL,
    [DeathInjuryCode9]           VARCHAR (10)  NULL,
    [DeathInjuryCode10]          VARCHAR (10)  NULL,
    [DeathInjuryCode11]          VARCHAR (10)  NULL,
    [DeathAcmePlaceCode]         VARCHAR (10)  NULL,
    [DeathAutopsyFlag]           CHAR (1)      NULL,
    [DeathAutopsyFindingsFlag]   CHAR (1)      NULL,
    [DeathDispositionMethodName] VARCHAR (256) NULL,
    [DeathPlaceName]             VARCHAR (256) NULL,
    [ArmedForcesFlag]            CHAR (1)      NULL,
    [CoronerCaseFlag]            CHAR (1)      NULL,
    [WorkInjuryFlag]             CHAR (1)      NULL,
    [InuryPlaceCode]             CHAR (1)      NULL,
    [DeathMannerName]            VARCHAR (256) NULL,
    [LoadID]                     INT           NOT NULL,
    [DataSourceID]               INT           NULL,
    [RowStartDate]               DATETIME      NOT NULL,
    [RowEndDate]                 DATETIME      NOT NULL,
    [RowCurrentFlag]             INT           NULL,
    CONSTRAINT [IDX_PK_Death1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC, [DeathCertificateNumber] ASC)
);


GO
PRINT N'Creating [dbo].[Death].[IDX_Death2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Death2]
    ON [dbo].[Death]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[Diagnosis]...';


GO
CREATE TABLE [dbo].[Diagnosis] (
    [DiagnosisID]                 INT             IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]        INT             NOT NULL,
    [DiagnosisCodeTypeName]       VARCHAR (256)   NULL,
    [DiagnosisCode]               VARCHAR (10)    NOT NULL,
    [DiagnosisCodeName]           VARCHAR (256)   NULL,
    [DiagnosisCodePriorityNumber] DECIMAL (18, 9) NULL,
    [DiagnosisCodeCategoryName]   VARCHAR (256)   NULL,
    [DiagnosisCodeDescription]    VARCHAR (1024)  NULL,
    [LoadID]                      INT             NOT NULL,
    [DataSourceID]                INT             NOT NULL,
    [ExternalSystemBusinessKey]   VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate]  DATE            NULL,
    [ExternalSystemRowEndDate]    DATE            NULL,
    [ExternalSystemActiveFlag]    CHAR (1)        NULL,
    [RowStartDate]                DATETIME        NOT NULL,
    [RowEndDate]                  DATETIME        NOT NULL,
    [RowCurrentFlag]              INT             NULL,
    CONSTRAINT [IDX_PK_DiagnosisCode1] PRIMARY KEY CLUSTERED ([DiagnosisID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[EducationLevel]...';


GO
CREATE TABLE [dbo].[EducationLevel] (
    [EducationLevelID]   INT           IDENTITY (1, 1) NOT NULL,
    [EducationLevelName] VARCHAR (256) NOT NULL,
    [LoadID]             INT           NOT NULL,
    [DataSourceID]       INT           NOT NULL,
    [RowStartDate]       DATETIME      NOT NULL,
    [RowEndDate]         DATETIME      NOT NULL,
    [RowCurrentFlag]     INT           NULL,
    CONSTRAINT [IDX_PK_EducationLevel1] PRIMARY KEY CLUSTERED ([EducationLevelID] ASC)
);


GO
PRINT N'Creating [dbo].[Encounter]...';


GO
CREATE TABLE [dbo].[Encounter] (
    [EncounterID]         INT           IDENTITY (1, 1) NOT NULL,
    [SiteID]              INT           NOT NULL,
    [PersonID]            INT           NOT NULL,
    [PublicHealthEventID] INT           NULL,
    [EncounterDate]       DATETIME      NOT NULL,
    [EncounterTypeName]   VARCHAR (256) NULL,
    [LoadID]              INT           NOT NULL,
    [DataSourceID]        INT           NOT NULL,
    [RowStartDate]        DATETIME      NOT NULL,
    [RowCurrentFlag]      INT           NOT NULL,
    [RowEndDate]          DATETIME      NOT NULL,
    CONSTRAINT [IDX_PK_Encounter1] PRIMARY KEY CLUSTERED ([EncounterID] ASC)
);


GO
PRINT N'Creating [dbo].[Encounter].[IDX_Encounter3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Encounter3]
    ON [dbo].[Encounter]([SiteID] ASC);


GO
PRINT N'Creating [dbo].[Ethnicity]...';


GO
CREATE TABLE [dbo].[Ethnicity] (
    [EthnicityID]    INT          IDENTITY (1, 1) NOT NULL,
    [EthnicityName]  VARCHAR (50) NOT NULL,
    [LoadID]         INT          NOT NULL,
    [DataSourceID]   INT          NOT NULL,
    [RowStartDate]   DATETIME     NOT NULL,
    [RowEndDate]     DATETIME     NULL,
    [RowCurrentFlag] INT          NOT NULL,
    CONSTRAINT [IDX_PK_Ethnicity1] PRIMARY KEY CLUSTERED ([EthnicityID] ASC)
);


GO
PRINT N'Creating [dbo].[FinancialTransaction]...';


GO
CREATE TABLE [dbo].[FinancialTransaction] (
    [HealthcareActivityID]                   INT             NOT NULL,
    [PayerSourceID]                          INT             NOT NULL,
    [DataSourceID]                           INT             NOT NULL,
    [FinancialTransactionTotalChargesAmount] DECIMAL (18, 5) NULL,
    [FinancialTransactionTypeName]           VARCHAR (256)   NULL,
    [LoadID]                                 INT             NOT NULL,
    [RowStartDate]                           DATETIME        NOT NULL,
    [RowEndDate]                             DATETIME        NOT NULL,
    [RowCurrentFlag]                         INT             NOT NULL,
    CONSTRAINT [IDX_PK_PayerSourceEncounter1] PRIMARY KEY NONCLUSTERED ([PayerSourceID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[GeographicRegion]...';


GO
CREATE TABLE [dbo].[GeographicRegion] (
    [GeographicRegionID]              INT               IDENTITY (1, 1) NOT NULL,
    [GeographicRegionTypeID]          INT               NOT NULL,
    [GeographicRegionName]            VARCHAR (256)     NOT NULL,
    [GeographicRegionAbbreviation]    VARCHAR (50)      NOT NULL,
    [GeographicRegionCode]            VARCHAR (50)      NOT NULL,
    [GeographicRegionGeography]       [sys].[geography] NULL,
    [GeographicRegionCenterLatitude]  DECIMAL (18, 15)  NULL,
    [GeographicRegionCenterLongitude] DECIMAL (18, 15)  NULL,
    [GeographicRegionCenterGeography] [sys].[geography] NULL,
    [LoadID]                          INT               NOT NULL,
    [DataSourceID]                    INT               NOT NULL,
    [RowStartDate]                    DATETIME          NOT NULL,
    [RowEndDate]                      DATETIME          NOT NULL,
    [RowCurrentFlag]                  INT               NULL,
    CONSTRAINT [IDX_PK_GeographicRegion1] PRIMARY KEY CLUSTERED ([GeographicRegionID] ASC)
);


GO
PRINT N'Creating [dbo].[GeographicRegion].[IDX_GeographicRegion2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_GeographicRegion2]
    ON [dbo].[GeographicRegion]([GeographicRegionTypeID] ASC);


GO
PRINT N'Creating [dbo].[GeographicRegionType]...';


GO
CREATE TABLE [dbo].[GeographicRegionType] (
    [GeographicRegionTypeID]   INT           IDENTITY (1, 1) NOT NULL,
    [GeographicRegionTypeName] VARCHAR (256) NOT NULL,
    [LoadID]                   INT           NOT NULL,
    [DataSourceID]             INT           NOT NULL,
    [RowStartDate]             DATETIME      NOT NULL,
    [RowEndDate]               DATETIME      NOT NULL,
    [RowCurrentFlag]           INT           NULL,
    CONSTRAINT [IDX_PK_GeographicRegionType1] PRIMARY KEY CLUSTERED ([GeographicRegionTypeID] ASC)
);


GO
PRINT N'Creating [dbo].[HealthcareActivity]...';


GO
CREATE TABLE [dbo].[HealthcareActivity] (
    [HealthcareActivityID]             INT           IDENTITY (1, 1) NOT NULL,
    [EncounterID]                      INT           NOT NULL,
    [ProgramID]                        INT           NOT NULL,
    [ProviderID]                       INT           NOT NULL,
    [HealthcareActivityTypeName]       VARCHAR (256) NOT NULL,
    [HealthcareActivityStartDate]      DATETIME      NOT NULL,
    [HealthcareActivityEndDate]        DATETIME      NULL,
    [HealthcareActivityHistoricalFlag] CHAR (1)      NULL,
    [PersonStartDateAge]               INT           NOT NULL,
    [LoadID]                           INT           NOT NULL,
    [DataSourceID]                     INT           NOT NULL,
    [RowStartDate]                     DATETIME      NOT NULL,
    [RowEndDate]                       DATETIME      NOT NULL,
    [RowCurrentFlag]                   INT           NOT NULL,
    CONSTRAINT [IDX_PK_HealthcareActivity1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[HealthcareActivity].[IDX_HealthcareActivity2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_HealthcareActivity2]
    ON [dbo].[HealthcareActivity]([ProgramID] ASC);


GO
PRINT N'Creating [dbo].[HealthcareActivity].[IDX_HealthcareActivity3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_HealthcareActivity3]
    ON [dbo].[HealthcareActivity]([HealthcareActivityTypeName] ASC)
    INCLUDE([HealthcareActivityID], [EncounterID], [DataSourceID]);


GO
PRINT N'Creating [dbo].[HealthcareActivity].[IDX_HealthcareActivity4]...';


GO
CREATE NONCLUSTERED INDEX [IDX_HealthcareActivity4]
    ON [dbo].[HealthcareActivity]([EncounterID] ASC, [HealthcareActivityID] ASC, [ProgramID] ASC, [HealthcareActivityTypeName] ASC, [RowCurrentFlag] ASC)
    INCLUDE([HealthcareActivityStartDate], [HealthcareActivityEndDate], [DataSourceID]);


GO
PRINT N'Creating [dbo].[HealthcareActivityRelationship]...';


GO
CREATE TABLE [dbo].[HealthcareActivityRelationship] (
    [HealthcareActivityID]                   INT          NOT NULL,
    [RelatedHealthcareActivityID]            INT          NOT NULL,
    [HealthcareActivityRelationshipTypeName] VARCHAR (50) NOT NULL,
    [LoadID]                                 INT          NOT NULL,
    [DataSourceID]                           INT          NOT NULL,
    [RowStartDate]                           DATETIME     NOT NULL,
    [RowEndDate]                             DATETIME     NOT NULL,
    [RowCurrentFlag]                         INT          NULL,
    CONSTRAINT [IDX_PK_HealthcareActivityRelationship1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC, [RelatedHealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[HealthcareActivityRelationship].[IDX_HealthcareActivityRelationship2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_HealthcareActivityRelationship2]
    ON [dbo].[HealthcareActivityRelationship]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[HealthcareActivityRelationship].[IDX_HealthcareActivityRelationship3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_HealthcareActivityRelationship3]
    ON [dbo].[HealthcareActivityRelationship]([RelatedHealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[HouseholdSize]...';


GO
CREATE TABLE [dbo].[HouseholdSize] (
    [HouseholdSizeID]          INT           IDENTITY (1, 1) NOT NULL,
    [HouseholdSizeName]        VARCHAR (256) NOT NULL,
    [AboveNationalAverageFlag] CHAR (1)      NOT NULL,
    [AboveColoradoAverageFlag] CHAR (1)      NOT NULL,
    [LoadID]                   INT           NOT NULL,
    [DataSourceID]             INT           NOT NULL,
    [RowStartDate]             DATETIME      NOT NULL,
    [RowEndDate]               DATETIME      NULL,
    [RowCurrentFlag]           INT           NULL,
    CONSTRAINT [IDX_PK_HouseholdSize1] PRIMARY KEY CLUSTERED ([HouseholdSizeID] ASC)
);


GO
PRINT N'Creating [dbo].[Immunization]...';


GO
CREATE TABLE [dbo].[Immunization] (
    [ImmunizationID]                INT             IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]          INT             NOT NULL,
    [VaccineLotID]                  INT             NOT NULL,
    [ImmunizationPriorityGroupID]   INT             NOT NULL,
    [VaccineAdministrationSiteName] VARCHAR (256)   NULL,
    [VaccineDosageAmount]           DECIMAL (18, 9) NULL,
    [VaccineDoseNumber]             INT             NULL,
    [LoadID]                        INT             NOT NULL,
    [DataSourceID]                  INT             NOT NULL,
    [ExternalSystemBusinessKey]     VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate]    DATE            NULL,
    [ExternalSystemRowEndDate]      DATE            NULL,
    [ExternalSystemActiveFlag]      CHAR (1)        NULL,
    [RowStartDate]                  DATETIME        NOT NULL,
    [RowEndDate]                    DATETIME        NOT NULL,
    [RowCurrentFlag]                INT             NULL,
    CONSTRAINT [IDX_PK_Immunization1] PRIMARY KEY CLUSTERED ([ImmunizationID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[Immunization].[IDX_Immunization2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Immunization2]
    ON [dbo].[Immunization]([VaccineLotID] ASC);


GO
PRINT N'Creating [dbo].[Immunization].[IDX_Immunization3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Immunization3]
    ON [dbo].[Immunization]([ImmunizationPriorityGroupID] ASC);


GO
PRINT N'Creating [dbo].[ImmunizationContraindication]...';


GO
CREATE TABLE [dbo].[ImmunizationContraindication] (
    [ImmunizationContraindicationID]   INT           IDENTITY (1, 1) NOT NULL,
    [ImmunizationContraindicationName] VARCHAR (256) NOT NULL,
    [LoadID]                           INT           NOT NULL,
    [DataSourceID]                     INT           NOT NULL,
    [RowStartDate]                     DATETIME      NOT NULL,
    [RowEndDate]                       DATETIME      NOT NULL,
    [RowCurrentFlag]                   INT           NULL,
    CONSTRAINT [IDX_PK_ImmunizationContraindication1] PRIMARY KEY CLUSTERED ([ImmunizationContraindicationID] ASC)
);


GO
PRINT N'Creating [dbo].[ImmunizationPriorityGroup]...';


GO
CREATE TABLE [dbo].[ImmunizationPriorityGroup] (
    [ImmunizationPriorityGroupID]   INT           IDENTITY (1, 1) NOT NULL,
    [ImmunizationPriorityGroupName] VARCHAR (256) NOT NULL,
    [LoadID]                        INT           NOT NULL,
    [DataSourceID]                  INT           NOT NULL,
    [RowStartDate]                  DATETIME      NOT NULL,
    [RowEndDate]                    DATETIME      NOT NULL,
    [RowCurrentFlag]                INT           NULL,
    CONSTRAINT [IDX_PK_ImmunizationPriorityGroup1] PRIMARY KEY CLUSTERED ([ImmunizationPriorityGroupID] ASC)
);


GO
PRINT N'Creating [dbo].[IncomeLevel]...';


GO
CREATE TABLE [dbo].[IncomeLevel] (
    [IncomeID]                 INT             IDENTITY (1, 1) NOT NULL,
    [IncomeLevelAmount]        DECIMAL (18, 9) NULL,
    [IncomeLevelFrequencyName] VARCHAR (256)   NULL,
    [LoadID]                   INT             NOT NULL,
    [DataSourceID]             INT             NOT NULL,
    [RowEndDate]               DATETIME        NULL,
    [RowStartDate]             DATETIME        NOT NULL,
    [RowCurrentFlag]           INT             NULL,
    CONSTRAINT [IDX_PK_Income1] PRIMARY KEY CLUSTERED ([IncomeID] ASC)
);


GO
PRINT N'Creating [dbo].[Inquiry]...';


GO
CREATE TABLE [dbo].[Inquiry] (
    [InquiryID]            INT      IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID] INT      NOT NULL,
    [LoadID]               INT      NOT NULL,
    [DataSourceID]         INT      NOT NULL,
    [RowStartDate]         DATETIME NOT NULL,
    [RowEndDate]           DATETIME NOT NULL,
    [RowCurrentFlag]       INT      NULL,
    CONSTRAINT [IDX_PK_Inquiry1] PRIMARY KEY CLUSTERED ([InquiryID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[Language]...';


GO
CREATE TABLE [dbo].[Language] (
    [LanguageID]     INT           IDENTITY (1, 1) NOT NULL,
    [LanguageName]   VARCHAR (256) NOT NULL,
    [LoadID]         INT           NOT NULL,
    [DataSourceID]   INT           NOT NULL,
    [RowStartDate]   DATETIME      NOT NULL,
    [RowEndDate]     DATETIME      NULL,
    [RowCurrentFlag] INT           NOT NULL,
    CONSTRAINT [IDX_PK_Language1] PRIMARY KEY CLUSTERED ([LanguageID] ASC)
);


GO
PRINT N'Creating [dbo].[Observation]...';


GO
CREATE TABLE [dbo].[Observation] (
    [ObservationID]                       INT             IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]                INT             NOT NULL,
    [ObservationKeyNumber]                DECIMAL (18, 9) NULL,
    [ObservationClassName]                VARCHAR (256)   NOT NULL,
    [ObservationTermNumber]               DECIMAL (18, 9) NOT NULL,
    [ObservationTermName]                 VARCHAR (256)   NULL,
    [ObservationNormalRangeUnitOfMeasure] VARCHAR (256)   NULL,
    [ObservationResultsText]              VARCHAR (MAX)   NULL,
    [ObservationResultsNumeric]           DECIMAL (18, 9) NULL,
    [ObservationStatusName]               VARCHAR (256)   NULL,
    [ObservationNormalIndicatorCode]      VARCHAR (10)    NULL,
    [LoadID]                              INT             NOT NULL,
    [DataSourceID]                        INT             NOT NULL,
    [ExternalSystemBusinessKey]           VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate]          DATE            NULL,
    [ExternalSystemRowEndDate]            DATE            NULL,
    [ExternalSystemActiveFlag]            CHAR (1)        NULL,
    [RowStartDate]                        DATETIME        NOT NULL,
    [RowEndDate]                          DATETIME        NOT NULL,
    [RowCurrentFlag]                      INT             NULL,
    CONSTRAINT [IDX_PK_Observation1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC, [ObservationID] ASC)
);


GO
PRINT N'Creating [dbo].[Observation].[IDX_Observation2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Observation2]
    ON [dbo].[Observation]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[ObservedImmunizationAdverseReaction]...';


GO
CREATE TABLE [dbo].[ObservedImmunizationAdverseReaction] (
    [ObservedImmunizationAdverseReactionID] INT           IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]                  INT           NOT NULL,
    [AdverseReactionName]                   VARCHAR (256) NOT NULL,
    [LoadID]                                INT           NOT NULL,
    [DataSourceID]                          INT           NULL,
    [RowStartDate]                          DATETIME      NOT NULL,
    [RowEndDate]                            DATETIME      NOT NULL,
    [RowCurrentFlag]                        INT           NULL,
    CONSTRAINT [IDX_PK_ObservedImmunizationAdverseReaction1] PRIMARY KEY CLUSTERED ([ObservedImmunizationAdverseReactionID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[ObservedImmunizationAdverseReaction].[IDX_ObservedImmunizationAdverseReaction2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_ObservedImmunizationAdverseReaction2]
    ON [dbo].[ObservedImmunizationAdverseReaction]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[ObservedImmunizationContraindication]...';


GO
CREATE TABLE [dbo].[ObservedImmunizationContraindication] (
    [ObservedImmunizationContraindicationID] INT      IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]                   INT      NOT NULL,
    [ImmunizationContraindicationID]         INT      NULL,
    [LoadID]                                 INT      NOT NULL,
    [RowStartDate]                           DATETIME NOT NULL,
    [RowEndDate]                             DATETIME NOT NULL,
    [RowCurrentFlag]                         INT      NULL,
    CONSTRAINT [IDX_PK_ObservedImmunizationContraindication1] PRIMARY KEY CLUSTERED ([ObservedImmunizationContraindicationID] ASC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[ObservedImmunizationContraindication].[IDX_ObservedImmunizationContraindication2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_ObservedImmunizationContraindication2]
    ON [dbo].[ObservedImmunizationContraindication]([ImmunizationContraindicationID] ASC);


GO
PRINT N'Creating [dbo].[ObservedImmunizationContraindication].[IDX_ObservedImmunizationContraindication3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_ObservedImmunizationContraindication3]
    ON [dbo].[ObservedImmunizationContraindication]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[ObservedReportableDisease]...';


GO
CREATE TABLE [dbo].[ObservedReportableDisease] (
    [ObservedReportableDiseaseID] INT            IDENTITY (1, 1) NOT NULL,
    [HealthcareActivityID]        INT            NOT NULL,
    [ReportableDiseaseID]         INT            NOT NULL,
    [PublicHealthCaseID]          INT            NOT NULL,
    [DiagnosisDate]               DATETIME       NULL,
    [OnsetDate]                   DATETIME       NULL,
    [CaseStatusCode]              VARCHAR (10)   NULL,
    [PatientOutcome]              VARCHAR (256)  NULL,
    [PreviousSurgeryDate]         DATETIME       NULL,
    [OrganTransplantFlag]         CHAR (1)       NULL,
    [OrganTransplantYear]         VARCHAR (256)  NULL,
    [OrganTransplantDescription]  VARCHAR (1024) NULL,
    [OutbreakRelatedCode]         VARCHAR (10)   NULL,
    [LoadID]                      INT            NOT NULL,
    [DataSourceID]                INT            NOT NULL,
    [ExternalSystemBusinessKey]   VARCHAR (255)  NULL,
    [ExternalSystemRowStartDate]  DATE           NULL,
    [ExternalSystemRowEndDate]    DATE           NULL,
    [ExternalSystemActiveFlag]    CHAR (1)       NULL,
    [RowStartDate]                DATETIME       NOT NULL,
    [RowEndDate]                  DATETIME       NOT NULL,
    [RowCurrentFlag]              INT            NULL,
    CONSTRAINT [IDX_PK_ObservedReportableDisease1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC, [ObservedReportableDiseaseID] ASC, [ReportableDiseaseID] ASC)
);


GO
PRINT N'Creating [dbo].[ObservedReportableDisease].[IDX_ObservedReportableDisease2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_ObservedReportableDisease2]
    ON [dbo].[ObservedReportableDisease]([HealthcareActivityID] ASC);


GO
PRINT N'Creating [dbo].[ObservedReportableDisease].[IDX_ObservedReportableDisease3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_ObservedReportableDisease3]
    ON [dbo].[ObservedReportableDisease]([PublicHealthCaseID] ASC);


GO
PRINT N'Creating [dbo].[Organization]...';


GO
CREATE TABLE [dbo].[Organization] (
    [OrganizationID]          INT            IDENTITY (1, 1) NOT NULL,
    [OrganizationName]        VARCHAR (256)  NULL,
    [OrganizationDescription] VARCHAR (1024) NULL,
    [DataSourceID]            INT            NOT NULL,
    [LoadID]                  INT            NOT NULL,
    [RowStartDate]            DATETIME       NOT NULL,
    [RowEndDate]              DATETIME       NULL,
    [RowCurrentFlag]          INT            NOT NULL,
    CONSTRAINT [PK185] PRIMARY KEY CLUSTERED ([OrganizationID] ASC)
);


GO
PRINT N'Creating [dbo].[PayerSource]...';


GO
CREATE TABLE [dbo].[PayerSource] (
    [PayerSourceID]    INT           IDENTITY (1, 1) NOT NULL,
    [PayerSourceName]  VARCHAR (256) NOT NULL,
    [PayerSourceType]  VARCHAR (256) NULL,
    [PayerSourceOther] VARCHAR (10)  NULL,
    [LoadID]           INT           NOT NULL,
    [DataSourceID]     INT           NOT NULL,
    [RowStartDate]     DATETIME      NOT NULL,
    [RowEndDate]       DATETIME      NOT NULL,
    [RowCurrentFlag]   INT           NULL,
    CONSTRAINT [IDX_PK_PayerSource1] PRIMARY KEY CLUSTERED ([PayerSourceID] ASC)
);


GO
PRINT N'Creating [dbo].[PersonGeoRegion]...';


GO
CREATE TABLE [dbo].[PersonGeoRegion] (
    [GeographicRegionID] INT      NOT NULL,
    [PersonID]           INT      NULL,
    [LoadID]             INT      NOT NULL,
    [DataSourceID]       INT      NOT NULL,
    [RowStartDate]       DATETIME NOT NULL,
    [RowEndDate]         DATETIME NOT NULL,
    [RowCurrentFlag]     INT      NOT NULL,
    CONSTRAINT [IDX_PK_PersonGeoRegion1] PRIMARY KEY CLUSTERED ([GeographicRegionID] ASC)
);


GO
PRINT N'Creating [dbo].[PersonGeoRegion].[IDX_PersonGeoRegion2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_PersonGeoRegion2]
    ON [dbo].[PersonGeoRegion]([GeographicRegionID] ASC);


GO
PRINT N'Creating [dbo].[PersonRelationship]...';


GO
CREATE TABLE [dbo].[PersonRelationship] (
    [PersonRelationshipID] INT           IDENTITY (1, 1) NOT NULL,
    [PersonID]             INT           NOT NULL,
    [RelatedPersonID]      INT           NOT NULL,
    [RelationshipTypeName] VARCHAR (256) NOT NULL,
    [LoadID]               INT           NOT NULL,
    [DataSourceID]         INT           NOT NULL,
    [RowStartDate]         DATETIME      NOT NULL,
    [RowEndDate]           DATETIME      NULL,
    [RowCurrentFlag]       INT           NOT NULL,
    CONSTRAINT [IDX_PK_PersonRelationship1] PRIMARY KEY CLUSTERED ([PersonRelationshipID] ASC)
);


GO
PRINT N'Creating [dbo].[PopulationStatistics]...';


GO
CREATE TABLE [dbo].[PopulationStatistics] (
    [GeographicRegionID]    INT      NOT NULL,
    [SexID]                 INT      NOT NULL,
    [StatisticalAgeGroupID] INT      NOT NULL,
    [RaceID]                INT      NOT NULL,
    [EthnicityID]           INT      NOT NULL,
    [Year]                  INT      NOT NULL,
    [TotalPopulationCount]  INT      NOT NULL,
    [LoadID]                INT      NOT NULL,
    [RowEndDate]            DATETIME NOT NULL,
    [RowStartDate]          DATETIME NOT NULL,
    [RowCurrentFlag]        INT      NULL,
    CONSTRAINT [IDX_PK_PopulationStatistics1] PRIMARY KEY CLUSTERED ([GeographicRegionID] ASC, [SexID] ASC, [StatisticalAgeGroupID] ASC, [RaceID] ASC, [EthnicityID] ASC, [Year] ASC)
);


GO
PRINT N'Creating [dbo].[PovertyLevel]...';


GO
CREATE TABLE [dbo].[PovertyLevel] (
    [PovertyLevelID]   INT           IDENTITY (1, 1) NOT NULL,
    [PovertyLevelName] VARCHAR (256) NOT NULL,
    [LoadID]           INT           NOT NULL,
    [DataSourceID]     INT           NOT NULL,
    [RowStartDate]     DATETIME      NOT NULL,
    [RowEndDate]       DATETIME      NULL,
    [RowCurrentFlag]   INT           NOT NULL,
    CONSTRAINT [IDX_PK_PovertyLevel1] PRIMARY KEY CLUSTERED ([PovertyLevelID] ASC)
);


GO
PRINT N'Creating [dbo].[Procedure]...';


GO
CREATE TABLE [dbo].[Procedure] (
    [HealthcareActivityID]       INT             NOT NULL,
    [ProcedureID]                INT             IDENTITY (1, 1) NOT NULL,
    [ProcedureTypeName]          VARCHAR (256)   NULL,
    [ProcedureCode]              VARCHAR (10)    NOT NULL,
    [ProcedureCodeName]          VARCHAR (256)   NULL,
    [ProcedurePriorityNumber]    DECIMAL (18, 9) NULL,
    [ProcedureCategoryName]      VARCHAR (256)   NULL,
    [ProcedureDescription]       VARCHAR (1024)  NULL,
    [LoadID]                     INT             NOT NULL,
    [DataSourceID]               INT             NOT NULL,
    [ExternalSystemBusinessKey]  VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate] DATE            NULL,
    [ExternalSystemRowEndDate]   DATE            NULL,
    [ExternalSystemActiveFlag]   CHAR (1)        NULL,
    [RowStartDate]               DATETIME        NOT NULL,
    [RowEndDate]                 DATETIME        NOT NULL,
    [RowCurrentFlag]             INT             NULL,
    CONSTRAINT [IDX_PK_DiagnosisCode1_1] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC, [ProcedureID] ASC)
);


GO
PRINT N'Creating [dbo].[Program]...';


GO
CREATE TABLE [dbo].[Program] (
    [ProgramID]       INT           IDENTITY (1, 1) NOT NULL,
    [ProgramName]     VARCHAR (256) NOT NULL,
    [StrategicAreaID] INT           NOT NULL,
    [LoadID]          INT           NOT NULL,
    [DataSourceID]    INT           NOT NULL,
    [RowStartDate]    DATETIME      NOT NULL,
    [RowEndDate]      DATETIME      NOT NULL,
    [RowCurrentFlag]  INT           NULL,
    CONSTRAINT [IDX_PK_Program1] PRIMARY KEY CLUSTERED ([ProgramID] ASC)
);


GO
PRINT N'Creating [dbo].[Program].[IDX_Program2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_Program2]
    ON [dbo].[Program]([StrategicAreaID] ASC);


GO
PRINT N'Creating [dbo].[Provider]...';


GO
CREATE TABLE [dbo].[Provider] (
    [ProviderID]       INT           IDENTITY (1, 1) NOT NULL,
    [ProviderFullName] VARCHAR (256) NOT NULL,
    [ProviderTitle]    VARCHAR (50)  NULL,
    [LoadID]           INT           NOT NULL,
    [DataSourceID]     INT           NOT NULL,
    [RowStartDate]     DATETIME      NOT NULL,
    [RowEndDate]       DATETIME      NOT NULL,
    [RowCurrentFlag]   INT           NULL,
    CONSTRAINT [IDX_PK_Provider1] PRIMARY KEY CLUSTERED ([ProviderID] ASC)
);


GO
PRINT N'Creating [dbo].[PublicHealthCase]...';


GO
CREATE TABLE [dbo].[PublicHealthCase] (
    [PublicHealthCaseID]          INT            IDENTITY (1, 1) NOT NULL,
    [PublicHealthOutbreakID]      INT            NULL,
    [PublicHealthCaseName]        VARCHAR (256)  NOT NULL,
    [PublicHealthCaseDescription] VARCHAR (1024) NULL,
    [LoadID]                      INT            NOT NULL,
    [DataSourceID]                INT            NOT NULL,
    [ExternalSystemBusinessKey]   VARCHAR (255)  NULL,
    [ExternalSystemRowStartDate]  DATE           NULL,
    [ExternalSystemRowEndDate]    DATE           NULL,
    [ExternalSystemActiveFlag]    CHAR (1)       NULL,
    [RowStartDate]                DATETIME       NOT NULL,
    [RowEndDate]                  DATETIME       NOT NULL,
    [RowCurrentFlag]              INT            NULL,
    CONSTRAINT [IDX_PK_PublicHealthCase1] PRIMARY KEY CLUSTERED ([PublicHealthCaseID] ASC)
);


GO
PRINT N'Creating [dbo].[PublicHealthCase].[IDX_PublicHealthCase2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_PublicHealthCase2]
    ON [dbo].[PublicHealthCase]([PublicHealthOutbreakID] ASC);


GO
PRINT N'Creating [dbo].[PublicHealthEvent]...';


GO
CREATE TABLE [dbo].[PublicHealthEvent] (
    [PublicHealthEventID]             INT           IDENTITY (1, 1) NOT NULL,
    [PublicHealthEventName]           VARCHAR (256) NOT NULL,
    [PublicHealthEventStartDate]      DATETIME      NOT NULL,
    [PublicHealthEventEndDate]        DATETIME      NOT NULL,
    [PublicHealthEventDataSourceName] VARCHAR (256) NOT NULL,
    [PublicHealthEventTypeName]       VARCHAR (256) NOT NULL,
    [LoadID]                          INT           NOT NULL,
    [DataSourceID]                    INT           NOT NULL,
    [RowStartDate]                    DATETIME      NOT NULL,
    [RowEndDate]                      DATETIME      NOT NULL,
    [RowCurrentFlag]                  INT           NULL,
    CONSTRAINT [IDX_PK_PublicHealthEvent1] PRIMARY KEY CLUSTERED ([PublicHealthEventID] ASC)
);


GO
PRINT N'Creating [dbo].[PublicHealthOutbreak]...';


GO
CREATE TABLE [dbo].[PublicHealthOutbreak] (
    [PublicHealthOutbreakID]          INT            IDENTITY (1, 1) NOT NULL,
    [ReportableDiseaseID]             INT            NOT NULL,
    [PublicHealthOutbreakName]        VARCHAR (256)  NOT NULL,
    [PublicHealthOutbreakDescription] VARCHAR (1024) NULL,
    [LoadID]                          INT            NOT NULL,
    [DataSourceID]                    INT            NOT NULL,
    [ExternalSystemBusinessKey]       VARCHAR (255)  NULL,
    [ExternalSystemRowStartDate]      DATE           NULL,
    [ExternalSystemRowEndDate]        DATE           NULL,
    [ExternalSystemActiveFlag]        CHAR (1)       NULL,
    [RowStartDate]                    DATETIME       NOT NULL,
    [RowEndDate]                      DATETIME       NOT NULL,
    [RowCurrentFlag]                  INT            NULL,
    CONSTRAINT [IDX_PK_PublicHealthOutbreak1] PRIMARY KEY CLUSTERED ([PublicHealthOutbreakID] ASC)
);


GO
PRINT N'Creating [dbo].[PublicHealthOutbreak].[IDX_PublicHealthOutbreak2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_PublicHealthOutbreak2]
    ON [dbo].[PublicHealthOutbreak]([ReportableDiseaseID] ASC);


GO
PRINT N'Creating [dbo].[Race]...';


GO
CREATE TABLE [dbo].[Race] (
    [RaceID]         INT           IDENTITY (1, 1) NOT NULL,
    [RaceName]       VARCHAR (256) NOT NULL,
    [LoadID]         INT           NOT NULL,
    [DataSourceID]   INT           NOT NULL,
    [RowStartDate]   DATETIME      NOT NULL,
    [RowEndDate]     DATETIME      NULL,
    [RowCurrentFlag] INT           NOT NULL,
    CONSTRAINT [IDX_PK_Race1] PRIMARY KEY CLUSTERED ([RaceID] ASC)
);


GO
PRINT N'Creating [dbo].[ReportableDisease]...';


GO
CREATE TABLE [dbo].[ReportableDisease] (
    [ReportableDiseaseID]        INT           IDENTITY (1, 1) NOT NULL,
    [ReportableDiseaseName]      VARCHAR (256) NOT NULL,
    [VaccinePreventableFlag]     CHAR (1)      NULL,
    [LoadID]                     INT           NOT NULL,
    [DataSourceID]               INT           NOT NULL,
    [ExternalSystemBusinessKey]  VARCHAR (255) NULL,
    [ExternalSystemRowStartDate] DATE          NULL,
    [ExternalSystemRowEndDate]   DATE          NULL,
    [ExternalSystemActiveFlag]   CHAR (1)      NULL,
    [RowStartDate]               DATETIME      NOT NULL,
    [RowEndDate]                 DATETIME      NOT NULL,
    [RowCurrentFlag]             INT           NULL,
    CONSTRAINT [IDX_PK_ReportableDisease1] PRIMARY KEY CLUSTERED ([ReportableDiseaseID] ASC)
);


GO
PRINT N'Creating [dbo].[Sex]...';


GO
CREATE TABLE [dbo].[Sex] (
    [SexID]           INT           IDENTITY (1, 1) NOT NULL,
    [SexName]         VARCHAR (256) NOT NULL,
    [SexAbbreviation] VARCHAR (10)  NOT NULL,
    [LoadID]          INT           NOT NULL,
    [DataSourceID]    INT           NOT NULL,
    [RowStartDate]    DATETIME      NOT NULL,
    [RowEndDate]      DATETIME      NULL,
    [RowCurrentFlag]  INT           NOT NULL,
    CONSTRAINT [IDX_PK_Sex1] PRIMARY KEY CLUSTERED ([SexID] ASC)
);


GO
PRINT N'Creating [dbo].[Site]...';


GO
CREATE TABLE [dbo].[Site] (
    [SiteID]                     INT           IDENTITY (1, 1) NOT NULL,
    [OrganizationID]             INT           NOT NULL,
    [SiteName]                   VARCHAR (256) NOT NULL,
    [SiteTypeName]               VARCHAR (256) NOT NULL,
    [SiteActiveFlag]             INT           NOT NULL,
    [LoadID]                     INT           NOT NULL,
    [DataSourceID]               INT           NOT NULL,
    [ExternalSystemBusinessKey]  VARCHAR (255) NULL,
    [ExternalSystemRowStartDate] DATE          NULL,
    [ExternalSystemRowEndDate]   DATE          NULL,
    [ExternalSystemActiveFlag]   CHAR (1)      NULL,
    [RowStartDate]               DATETIME      NOT NULL,
    [RowEndDate]                 DATETIME      NOT NULL,
    [RowCurrentFlag]             INT           NULL,
    CONSTRAINT [IDX_PK_Site1] PRIMARY KEY CLUSTERED ([SiteID] ASC)
);


GO
PRINT N'Creating [dbo].[SitePhysicalLocation]...';


GO
CREATE TABLE [dbo].[SitePhysicalLocation] (
    [SitePhysicalLocationID] INT      IDENTITY (1, 1) NOT NULL,
    [SiteID]                 INT      NULL,
    [PhysicalLocationID]     INT      NOT NULL,
    [LoadID]                 INT      NOT NULL,
    [DataSourceID]           INT      NOT NULL,
    [RowStartDate]           DATETIME NOT NULL,
    [RowEndDate]             DATETIME NOT NULL,
    [RowCurrentFlag]         INT      NOT NULL,
    CONSTRAINT [IDX_PK_SitePhysicalLocation1] PRIMARY KEY NONCLUSTERED ([SitePhysicalLocationID] ASC)
);


GO
PRINT N'Creating [dbo].[SitePhysicalLocation].[IDX_SitePhysicalLocation2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_SitePhysicalLocation2]
    ON [dbo].[SitePhysicalLocation]([SiteID] ASC);


GO
PRINT N'Creating [dbo].[SocioeconomicStatus]...';


GO
CREATE TABLE [dbo].[SocioeconomicStatus] (
    [SocioeconomicStatusID]       INT           IDENTITY (1, 1) NOT NULL,
    [SocioeconomicStatusName]     VARCHAR (256) NOT NULL,
    [SocioeconomicStatusTypeName] VARCHAR (256) NOT NULL,
    [LoadID]                      INT           NOT NULL,
    [DataSourceID]                INT           NOT NULL,
    [RowEndDate]                  DATETIME      NOT NULL,
    [RowStartDate]                DATETIME      NOT NULL,
    [RowCurrentFlag]              INT           NULL,
    CONSTRAINT [IDX_PK_SocioeconomicStatus1] PRIMARY KEY CLUSTERED ([SocioeconomicStatusID] ASC)
);


GO
PRINT N'Creating [dbo].[StatisticalAgeGroup]...';


GO
CREATE TABLE [dbo].[StatisticalAgeGroup] (
    [StatisticalAgeGroupID]       INT           IDENTITY (1, 1) NOT NULL,
    [StatisticalAgeGroupName]     VARCHAR (256) NOT NULL,
    [StatisticalAgeGroupMinAge]   INT           NOT NULL,
    [StatisticalAgeGroupMaxAge]   INT           NOT NULL,
    [StatisticalAgeGroupTypeName] VARCHAR (256) NOT NULL,
    [LoadID]                      INT           NOT NULL,
    [DataSourceID]                INT           NULL,
    [RowStartDate]                DATETIME      NOT NULL,
    [RowEndDate]                  DATETIME      NULL,
    [RowCurrentFlag]              INT           NOT NULL,
    CONSTRAINT [IDX_PK_StatisticalAgeGroup1] PRIMARY KEY CLUSTERED ([StatisticalAgeGroupID] ASC)
);


GO
PRINT N'Creating [dbo].[StrategicArea]...';


GO
CREATE TABLE [dbo].[StrategicArea] (
    [StrategicAreaID]   INT           IDENTITY (1, 1) NOT NULL,
    [StrategicAreaName] VARCHAR (256) NOT NULL,
    [LoadID]            INT           NOT NULL,
    [DataSourceID]      INT           NOT NULL,
    [RowStartDate]      DATETIME      NOT NULL,
    [RowEndDate]        DATETIME      NOT NULL,
    [RowCurrentFlag]    INT           NULL,
    CONSTRAINT [IDX_PK_StrategicArea1] PRIMARY KEY CLUSTERED ([StrategicAreaID] ASC)
);


GO
PRINT N'Creating [dbo].[SubstanceAdministration]...';


GO
CREATE TABLE [dbo].[SubstanceAdministration] (
    [HealthcareActivityID]              INT             NOT NULL,
    [SubstanceAdministrationTypeName]   VARCHAR (256)   NULL,
    [SubstanceAdministrationDoseAmount] VARCHAR (256)   NULL,
    [SubstanceAdministrationRateAmount] DECIMAL (18, 9) NULL,
    [SubstanceAdministrationUnitsName]  VARCHAR (256)   NULL,
    [LoadID]                            INT             NOT NULL,
    [DataSourceID]                      INT             NOT NULL,
    [ExternalSystemBusinessKey]         VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate]        DATE            NULL,
    [ExternalSystemRowEndDate]          DATE            NULL,
    [ExternalSystemActiveFlag]          CHAR (1)        NULL,
    [RowStartDate]                      DATETIME        NOT NULL,
    [RowEndDate]                        DATETIME        NOT NULL,
    [RowCurrentFlag]                    INT             NULL,
    CONSTRAINT [IDX_PK_DiagnosisCode1_2] PRIMARY KEY CLUSTERED ([HealthcareActivityID] ASC)
);


GO
PRINT N'Creating [dbo].[Vaccine]...';


GO
CREATE TABLE [dbo].[Vaccine] (
    [VaccineID]                      INT           IDENTITY (1, 1) NOT NULL,
    [VaccineName]                    VARCHAR (256) NOT NULL,
    [VaccineAbbreviation]            VARCHAR (256) NULL,
    [VaccineAdministrationRouteName] VARCHAR (256) NOT NULL,
    [LoadID]                         INT           NOT NULL,
    [DataSourceID]                   INT           NOT NULL,
    [RowStartDate]                   DATETIME      NOT NULL,
    [RowEndDate]                     DATETIME      NOT NULL,
    [RowCurrentFlag]                 INT           NULL,
    CONSTRAINT [IDX_PK_Vaccine1] PRIMARY KEY CLUSTERED ([VaccineID] ASC)
);


GO
PRINT N'Creating [dbo].[VaccineAntigen]...';


GO
CREATE TABLE [dbo].[VaccineAntigen] (
    [VaccineAntigenID] INT      IDENTITY (1, 1) NOT NULL,
    [VaccineID]        INT      NOT NULL,
    [AntigenID]        INT      NOT NULL,
    [LoadID]           INT      NOT NULL,
    [DataSourceID]     INT      NOT NULL,
    [RowStartDate]     DATETIME NOT NULL,
    [RowEndDate]       DATETIME NOT NULL,
    [RowCurrentFlag]   INT      NULL
);


GO
PRINT N'Creating [dbo].[VaccineContraindication]...';


GO
CREATE TABLE [dbo].[VaccineContraindication] (
    [VaccineID]                      INT      NOT NULL,
    [ImmunizationContraindicationID] INT      NOT NULL,
    [LoadID]                         INT      NOT NULL,
    [DataSourceID]                   INT      NULL,
    [RowStartDate]                   DATETIME NOT NULL,
    [RowEndDate]                     DATETIME NOT NULL,
    [RowCurrentFlag]                 INT      NULL,
    CONSTRAINT [IDX_PK_VaccineContraindication1] PRIMARY KEY CLUSTERED ([VaccineID] ASC, [ImmunizationContraindicationID] ASC)
);


GO
PRINT N'Creating [dbo].[VaccineContraindication].[IDX_VaccineContraindication2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineContraindication2]
    ON [dbo].[VaccineContraindication]([VaccineID] ASC);


GO
PRINT N'Creating [dbo].[VaccineContraindication].[IDX_VaccineContraindication3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineContraindication3]
    ON [dbo].[VaccineContraindication]([ImmunizationContraindicationID] ASC);


GO
PRINT N'Creating [dbo].[VaccineInventory]...';


GO
CREATE TABLE [dbo].[VaccineInventory] (
    [VaccineLotID]              INT             NOT NULL,
    [SiteID]                    INT             NOT NULL,
    [VaccineInventoryDate]      DATETIME        NOT NULL,
    [InventoryStatusName]       VARCHAR (256)   NULL,
    [VaccineQuantity]           DECIMAL (9, 3)  NULL,
    [VaccineInventoryIncrement] DECIMAL (10, 3) NOT NULL,
    [VaccineInventoryDecrement] DECIMAL (10, 3) NOT NULL,
    [VaccineInventoryNetChange] DECIMAL (10, 3) NOT NULL,
    [VaccineAvailableQuantity]  DECIMAL (10, 3) NOT NULL,
    [LoadID]                    INT             NOT NULL,
    [DataSourceID]              INT             NULL,
    [RowStartDate]              DATETIME        NOT NULL,
    [RowEndDate]                DATETIME        NOT NULL,
    [RowCurrentFlag]            INT             NULL,
    CONSTRAINT [IDX_PK_VaccineInventory1] PRIMARY KEY CLUSTERED ([VaccineLotID] ASC, [SiteID] ASC, [VaccineInventoryDate] ASC)
);


GO
PRINT N'Creating [dbo].[VaccineInventory].[IDX_VaccineInventory2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineInventory2]
    ON [dbo].[VaccineInventory]([VaccineLotID] ASC);


GO
PRINT N'Creating [dbo].[VaccineInventory].[IDX_VaccineInventory3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineInventory3]
    ON [dbo].[VaccineInventory]([SiteID] ASC);


GO
PRINT N'Creating [dbo].[VaccineInventoryEvent]...';


GO
CREATE TABLE [dbo].[VaccineInventoryEvent] (
    [VaccineInventoryEventID]       INT            IDENTITY (1, 1) NOT NULL,
    [VaccineLotID]                  INT            NOT NULL,
    [SiteID]                        INT            NOT NULL,
    [ProgramID]                     INT            NOT NULL,
    [VaccineInventoryEventDate]     DATETIME       NOT NULL,
    [VaccineCost]                   DECIMAL (9, 3) NULL,
    [VaccineSourceName]             VARCHAR (256)  NULL,
    [VaccineInventoryEventTypeName] VARCHAR (256)  NOT NULL,
    [VaccineQuantity]               DECIMAL (9, 3) NULL,
    [LoadID]                        INT            NOT NULL,
    [DataSourceID]                  INT            NOT NULL,
    [RowStartDate]                  DATETIME       NOT NULL,
    [RowEndDate]                    DATETIME       NOT NULL,
    [RowCurrentFlag]                INT            NULL,
    CONSTRAINT [IDX_PK_VaccineInventoryEvent1] PRIMARY KEY CLUSTERED ([VaccineInventoryEventID] ASC, [SiteID] ASC)
);


GO
PRINT N'Creating [dbo].[VaccineInventoryEvent].[IDX_VaccineInventoryEvent2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineInventoryEvent2]
    ON [dbo].[VaccineInventoryEvent]([ProgramID] ASC);


GO
PRINT N'Creating [dbo].[VaccineInventoryEvent].[IDX_VaccineInventoryEvent3]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineInventoryEvent3]
    ON [dbo].[VaccineInventoryEvent]([SiteID] ASC);


GO
PRINT N'Creating [dbo].[VaccineInventoryEvent].[IDX_VaccineInventoryEvent4]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineInventoryEvent4]
    ON [dbo].[VaccineInventoryEvent]([VaccineLotID] ASC);


GO
PRINT N'Creating [dbo].[VaccineLot]...';


GO
CREATE TABLE [dbo].[VaccineLot] (
    [VaccineLotID]               INT           IDENTITY (1, 1) NOT NULL,
    [VaccineID]                  INT           NOT NULL,
    [VaccineLotNumberCode]       VARCHAR (10)  NULL,
    [VaccineLotManufacturerName] VARCHAR (256) NOT NULL,
    [VaccineLotExpirationDate]   DATETIME      NULL,
    [VaccineTypeName]            VARCHAR (256) NOT NULL,
    [LoadID]                     INT           NOT NULL,
    [DataSourceID]               INT           NOT NULL,
    [RowStartDate]               DATETIME      NOT NULL,
    [RowEndDate]                 DATETIME      NOT NULL,
    [RowCurrentFlag]             INT           NULL,
    CONSTRAINT [IDX_PK_VaccineLot1] PRIMARY KEY CLUSTERED ([VaccineLotID] ASC)
);


GO
PRINT N'Creating [dbo].[VaccineLot].[IDX_VaccineLot2]...';


GO
CREATE NONCLUSTERED INDEX [IDX_VaccineLot2]
    ON [dbo].[VaccineLot]([VaccineID] ASC);


GO
PRINT N'Creating [dbo].[VitalSigns]...';


GO
CREATE TABLE [dbo].[VitalSigns] (
    [HealthcareActivityID]                   INT             NOT NULL,
    [VitalSignsObservationDateTime]          DATETIME        NOT NULL,
    [VitalSignsPulseNumber]                  DECIMAL (18, 9) NULL,
    [VitalSignsTemperatureNumber]            DECIMAL (18, 9) NULL,
    [VitalSignsBloodPressureSystolicNumber]  DECIMAL (18, 9) NULL,
    [VitalSignsBloodPressureDiastolicNumber] DECIMAL (18, 9) NULL,
    [VitalSignsHeightInchesNumber]           DECIMAL (18, 9) NULL,
    [VitalSignsCalculatedBMINumber]          DECIMAL (18, 9) NULL,
    [LoadID]                                 INT             NOT NULL,
    [DataSourceID]                           INT             NOT NULL,
    [ExternalSystemBusinessKey]              VARCHAR (255)   NULL,
    [ExternalSystemRowStartDate]             DATE            NULL,
    [ExternalSystemRowEndDate]               DATE            NULL,
    [ExternalSystemActiveFlag]               CHAR (1)        NULL,
    [RowStartDate]                           DATETIME        NOT NULL,
    [RowEndDate]                             DATETIME        NOT NULL,
    [RowCurrentFlag]                         INT             NOT NULL,
    [RowHash]                                AS              (checksum(0)) PERSISTED NOT NULL,
    CONSTRAINT [IDX_PersonVitalSigns] PRIMARY KEY CLUSTERED ([VitalSignsObservationDateTime] DESC, [HealthcareActivityID] ASC)
);


GO
PRINT N'Creating DF__VaccineIn__Vacci__59063A47...';


GO
ALTER TABLE [dbo].[VaccineInventory]
    ADD CONSTRAINT [DF__VaccineIn__Vacci__59063A47] DEFAULT 0 FOR [VaccineInventoryIncrement];


GO
PRINT N'Creating DF__VaccineIn__Vacci__59FA5E80...';


GO
ALTER TABLE [dbo].[VaccineInventory]
    ADD CONSTRAINT [DF__VaccineIn__Vacci__59FA5E80] DEFAULT 0 FOR [VaccineInventoryDecrement];


GO
PRINT N'Creating DF__VaccineIn__Vacci__5AEE82B9...';


GO
ALTER TABLE [dbo].[VaccineInventory]
    ADD CONSTRAINT [DF__VaccineIn__Vacci__5AEE82B9] DEFAULT 0 FOR [VaccineInventoryNetChange];


GO
PRINT N'Creating FK_ReportedLocation_SiteReportedLocation...';


GO
ALTER TABLE [Protected].[SiteReportedLocation]
    ADD CONSTRAINT [FK_ReportedLocation_SiteReportedLocation] FOREIGN KEY ([ReportedLocationID]) REFERENCES [Protected].[ReportedLocation] ([ReportedLocationID]);


GO
PRINT N'Creating FK_Site_SiteReportedLocation...';


GO
ALTER TABLE [Protected].[SiteReportedLocation]
    ADD CONSTRAINT [FK_Site_SiteReportedLocation] FOREIGN KEY ([SiteID]) REFERENCES [dbo].[Site] ([SiteID]);


GO
PRINT N'Creating FK_PhysicalLocation_ReportedLocationPhysicalLocation...';


GO
ALTER TABLE [Protected].[ReportedLocationPhysicalLocation]
    ADD CONSTRAINT [FK_PhysicalLocation_ReportedLocationPhysicalLocation] FOREIGN KEY ([PhysicalLocationID]) REFERENCES [Protected].[PhysicalLocation] ([PhysicalLocationID]);


GO
PRINT N'Creating FK_ReportedLocation_ReportedLocationPhysicalLocation...';


GO
ALTER TABLE [Protected].[ReportedLocationPhysicalLocation]
    ADD CONSTRAINT [FK_ReportedLocation_ReportedLocationPhysicalLocation] FOREIGN KEY ([ReportedLocationID]) REFERENCES [Protected].[ReportedLocation] ([ReportedLocationID]);


GO
PRINT N'Creating FK_GeographicRegion_PhysicalLocationGeoRegion...';


GO
ALTER TABLE [Protected].[PhysicalLocationGeoRegion]
    ADD CONSTRAINT [FK_GeographicRegion_PhysicalLocationGeoRegion] FOREIGN KEY ([GeographicRegionID]) REFERENCES [dbo].[GeographicRegion] ([GeographicRegionID]);


GO
PRINT N'Creating FK_PhysicalLocation_PhysicalLocationGeoReg_22...';


GO
ALTER TABLE [Protected].[PhysicalLocationGeoRegion]
    ADD CONSTRAINT [FK_PhysicalLocation_PhysicalLocationGeoReg_22] FOREIGN KEY ([PhysicalLocationID]) REFERENCES [Protected].[PhysicalLocation] ([PhysicalLocationID]);


GO
PRINT N'Creating FK_Person_PersonReportedLocation...';


GO
ALTER TABLE [Protected].[PersonReportedLocation]
    ADD CONSTRAINT [FK_Person_PersonReportedLocation] FOREIGN KEY ([PersonID]) REFERENCES [Protected].[Person] ([PersonID]);


GO
PRINT N'Creating FK_ReportedLocation_PersonReportedLocation...';


GO
ALTER TABLE [Protected].[PersonReportedLocation]
    ADD CONSTRAINT [FK_ReportedLocation_PersonReportedLocation] FOREIGN KEY ([ReportedLocationID]) REFERENCES [Protected].[ReportedLocation] ([ReportedLocationID]);


GO
PRINT N'Creating FK_ReportedLocationType_PersonReportedLocation...';


GO
ALTER TABLE [Protected].[PersonReportedLocation]
    ADD CONSTRAINT [FK_ReportedLocationType_PersonReportedLocation] FOREIGN KEY ([ReportedLocationTypeID]) REFERENCES [Protected].[ReportedLocationType] ([ReportedLocationTypeID]);


GO
PRINT N'Creating RefRace284...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefRace284] FOREIGN KEY ([RaceID]) REFERENCES [dbo].[Race] ([RaceID]);


GO
PRINT N'Creating RefEthnicity285...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefEthnicity285] FOREIGN KEY ([EthnicityID]) REFERENCES [dbo].[Ethnicity] ([EthnicityID]);


GO
PRINT N'Creating RefSex286...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefSex286] FOREIGN KEY ([SexID]) REFERENCES [dbo].[Sex] ([SexID]);


GO
PRINT N'Creating RefEducationLevel291...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefEducationLevel291] FOREIGN KEY ([EducationLevelID]) REFERENCES [dbo].[EducationLevel] ([EducationLevelID]);


GO
PRINT N'Creating RefIncomeLevel292...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefIncomeLevel292] FOREIGN KEY ([IncomeID]) REFERENCES [dbo].[IncomeLevel] ([IncomeID]);


GO
PRINT N'Creating RefPovertyLevel293...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefPovertyLevel293] FOREIGN KEY ([PovertyLevelID]) REFERENCES [dbo].[PovertyLevel] ([PovertyLevelID]);


GO
PRINT N'Creating RefHouseholdSize294...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefHouseholdSize294] FOREIGN KEY ([HouseholdSizeID]) REFERENCES [dbo].[HouseholdSize] ([HouseholdSizeID]);


GO
PRINT N'Creating RefLanguage307...';


GO
ALTER TABLE [Protected].[Person]
    ADD CONSTRAINT [RefLanguage307] FOREIGN KEY ([PrimaryLanguageID]) REFERENCES [dbo].[Language] ([LanguageID]);


GO
PRINT N'Creating FK_ReportableDisease_Antigen...';


GO
ALTER TABLE [dbo].[Antigen]
    ADD CONSTRAINT [FK_ReportableDisease_Antigen] FOREIGN KEY ([ReportableDiseaseID]) REFERENCES [dbo].[ReportableDisease] ([ReportableDiseaseID]);


GO
PRINT N'Creating FK_Antigen_AntigenContraindication...';


GO
ALTER TABLE [dbo].[AntigenContraindication]
    ADD CONSTRAINT [FK_Antigen_AntigenContraindication] FOREIGN KEY ([AntigenID]) REFERENCES [dbo].[Antigen] ([AntigenID]);


GO
PRINT N'Creating FK_ImmunizationContraindication_AntigenContraindication...';


GO
ALTER TABLE [dbo].[AntigenContraindication]
    ADD CONSTRAINT [FK_ImmunizationContraindication_AntigenContraindication] FOREIGN KEY ([ImmunizationContraindicationID]) REFERENCES [dbo].[ImmunizationContraindication] ([ImmunizationContraindicationID]);


GO
PRINT N'Creating FK_HealthcareActivity_Birth...';


GO
ALTER TABLE [dbo].[Birth]
    ADD CONSTRAINT [FK_HealthcareActivity_Birth] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_De_84...';


GO
ALTER TABLE [dbo].[Death]
    ADD CONSTRAINT [FK_HealthcareActivity_De_84] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_Death...';


GO
ALTER TABLE [dbo].[Death]
    ADD CONSTRAINT [FK_HealthcareActivity_Death] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating RefHealthcareActivity349...';


GO
ALTER TABLE [dbo].[Diagnosis]
    ADD CONSTRAINT [RefHealthcareActivity349] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating RefPerson301...';


GO
ALTER TABLE [dbo].[Encounter]
    ADD CONSTRAINT [RefPerson301] FOREIGN KEY ([PersonID]) REFERENCES [Protected].[Person] ([PersonID]);


GO
PRINT N'Creating RefPublicHealthEvent351...';


GO
ALTER TABLE [dbo].[Encounter]
    ADD CONSTRAINT [RefPublicHealthEvent351] FOREIGN KEY ([PublicHealthEventID]) REFERENCES [dbo].[PublicHealthEvent] ([PublicHealthEventID]);


GO
PRINT N'Creating FK_Site_Encounter...';


GO
ALTER TABLE [dbo].[Encounter]
    ADD CONSTRAINT [FK_Site_Encounter] FOREIGN KEY ([SiteID]) REFERENCES [dbo].[Site] ([SiteID]);


GO
PRINT N'Creating RefHealthcareActivity353...';


GO
ALTER TABLE [dbo].[FinancialTransaction]
    ADD CONSTRAINT [RefHealthcareActivity353] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_PayerSource_PayerSourceEncounter...';


GO
ALTER TABLE [dbo].[FinancialTransaction]
    ADD CONSTRAINT [FK_PayerSource_PayerSourceEncounter] FOREIGN KEY ([PayerSourceID]) REFERENCES [dbo].[PayerSource] ([PayerSourceID]);


GO
PRINT N'Creating FK_GeographicRegionType_GeographicRegion...';


GO
ALTER TABLE [dbo].[GeographicRegion]
    ADD CONSTRAINT [FK_GeographicRegionType_GeographicRegion] FOREIGN KEY ([GeographicRegionTypeID]) REFERENCES [dbo].[GeographicRegionType] ([GeographicRegionTypeID]);


GO
PRINT N'Creating RefProvider355...';


GO
ALTER TABLE [dbo].[HealthcareActivity]
    ADD CONSTRAINT [RefProvider355] FOREIGN KEY ([ProviderID]) REFERENCES [dbo].[Provider] ([ProviderID]);


GO
PRINT N'Creating FK_Encounter_HealthcareActivity...';


GO
ALTER TABLE [dbo].[HealthcareActivity]
    ADD CONSTRAINT [FK_Encounter_HealthcareActivity] FOREIGN KEY ([EncounterID]) REFERENCES [dbo].[Encounter] ([EncounterID]);


GO
PRINT N'Creating FK_Program_HealthcareActivity...';


GO
ALTER TABLE [dbo].[HealthcareActivity]
    ADD CONSTRAINT [FK_Program_HealthcareActivity] FOREIGN KEY ([ProgramID]) REFERENCES [dbo].[Program] ([ProgramID]);


GO
PRINT N'Creating FK_HealthcareActivity_HealthcareActivityRelations_72...';


GO
ALTER TABLE [dbo].[HealthcareActivityRelationship]
    ADD CONSTRAINT [FK_HealthcareActivity_HealthcareActivityRelations_72] FOREIGN KEY ([RelatedHealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_HealthcareActivityRelationship...';


GO
ALTER TABLE [dbo].[HealthcareActivityRelationship]
    ADD CONSTRAINT [FK_HealthcareActivity_HealthcareActivityRelationship] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_Immunization...';


GO
ALTER TABLE [dbo].[Immunization]
    ADD CONSTRAINT [FK_HealthcareActivity_Immunization] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_ImmunizationPriorityGroup_Immunization...';


GO
ALTER TABLE [dbo].[Immunization]
    ADD CONSTRAINT [FK_ImmunizationPriorityGroup_Immunization] FOREIGN KEY ([ImmunizationPriorityGroupID]) REFERENCES [dbo].[ImmunizationPriorityGroup] ([ImmunizationPriorityGroupID]);


GO
PRINT N'Creating FK_VaccineLot_Immunization...';


GO
ALTER TABLE [dbo].[Immunization]
    ADD CONSTRAINT [FK_VaccineLot_Immunization] FOREIGN KEY ([VaccineLotID]) REFERENCES [dbo].[VaccineLot] ([VaccineLotID]);


GO
PRINT N'Creating FK_HealthcareActivity_Inquiry...';


GO
ALTER TABLE [dbo].[Inquiry]
    ADD CONSTRAINT [FK_HealthcareActivity_Inquiry] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_Observation...';


GO
ALTER TABLE [dbo].[Observation]
    ADD CONSTRAINT [FK_HealthcareActivity_Observation] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_ObservedImmunizationAdverseReaction...';


GO
ALTER TABLE [dbo].[ObservedImmunizationAdverseReaction]
    ADD CONSTRAINT [FK_HealthcareActivity_ObservedImmunizationAdverseReaction] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_HealthcareActivity_ObservedImmunizationContraindication...';


GO
ALTER TABLE [dbo].[ObservedImmunizationContraindication]
    ADD CONSTRAINT [FK_HealthcareActivity_ObservedImmunizationContraindication] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_ImmunizationContraindication_ObservedImmunizationContraindication...';


GO
ALTER TABLE [dbo].[ObservedImmunizationContraindication]
    ADD CONSTRAINT [FK_ImmunizationContraindication_ObservedImmunizationContraindication] FOREIGN KEY ([ImmunizationContraindicationID]) REFERENCES [dbo].[ImmunizationContraindication] ([ImmunizationContraindicationID]) ON DELETE SET NULL;


GO
PRINT N'Creating FK_HealthcareActivity_ObservedReportableDisease...';


GO
ALTER TABLE [dbo].[ObservedReportableDisease]
    ADD CONSTRAINT [FK_HealthcareActivity_ObservedReportableDisease] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_PublicHealthCase_ObservedReportableDisease...';


GO
ALTER TABLE [dbo].[ObservedReportableDisease]
    ADD CONSTRAINT [FK_PublicHealthCase_ObservedReportableDisease] FOREIGN KEY ([PublicHealthCaseID]) REFERENCES [dbo].[PublicHealthCase] ([PublicHealthCaseID]);


GO
PRINT N'Creating FK_ReportableDisease_ObservedReportableDisease...';


GO
ALTER TABLE [dbo].[ObservedReportableDisease]
    ADD CONSTRAINT [FK_ReportableDisease_ObservedReportableDisease] FOREIGN KEY ([ReportableDiseaseID]) REFERENCES [dbo].[ReportableDisease] ([ReportableDiseaseID]);


GO
PRINT N'Creating RefPerson296...';


GO
ALTER TABLE [dbo].[PersonGeoRegion]
    ADD CONSTRAINT [RefPerson296] FOREIGN KEY ([PersonID]) REFERENCES [Protected].[Person] ([PersonID]);


GO
PRINT N'Creating FK_GeographicRegion_PersonGeoRegion...';


GO
ALTER TABLE [dbo].[PersonGeoRegion]
    ADD CONSTRAINT [FK_GeographicRegion_PersonGeoRegion] FOREIGN KEY ([GeographicRegionID]) REFERENCES [dbo].[GeographicRegion] ([GeographicRegionID]);


GO
PRINT N'Creating RefPerson297...';


GO
ALTER TABLE [dbo].[PersonRelationship]
    ADD CONSTRAINT [RefPerson297] FOREIGN KEY ([PersonID]) REFERENCES [Protected].[Person] ([PersonID]);


GO
PRINT N'Creating RefPerson298...';


GO
ALTER TABLE [dbo].[PersonRelationship]
    ADD CONSTRAINT [RefPerson298] FOREIGN KEY ([RelatedPersonID]) REFERENCES [Protected].[Person] ([PersonID]);


GO
PRINT N'Creating FK_Ethnicity_PopulationStatistics...';


GO
ALTER TABLE [dbo].[PopulationStatistics]
    ADD CONSTRAINT [FK_Ethnicity_PopulationStatistics] FOREIGN KEY ([EthnicityID]) REFERENCES [dbo].[Ethnicity] ([EthnicityID]);


GO
PRINT N'Creating FK_Race_PopulationStatistics...';


GO
ALTER TABLE [dbo].[PopulationStatistics]
    ADD CONSTRAINT [FK_Race_PopulationStatistics] FOREIGN KEY ([RaceID]) REFERENCES [dbo].[Race] ([RaceID]);


GO
PRINT N'Creating FK_Sex_PopulationStatistics...';


GO
ALTER TABLE [dbo].[PopulationStatistics]
    ADD CONSTRAINT [FK_Sex_PopulationStatistics] FOREIGN KEY ([SexID]) REFERENCES [dbo].[Sex] ([SexID]);


GO
PRINT N'Creating FK_StatisticalAgeGroup_PopulationStatistics...';


GO
ALTER TABLE [dbo].[PopulationStatistics]
    ADD CONSTRAINT [FK_StatisticalAgeGroup_PopulationStatistics] FOREIGN KEY ([StatisticalAgeGroupID]) REFERENCES [dbo].[StatisticalAgeGroup] ([StatisticalAgeGroupID]);


GO
PRINT N'Creating RefHealthcareActivity348...';


GO
ALTER TABLE [dbo].[Procedure]
    ADD CONSTRAINT [RefHealthcareActivity348] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_StrategicArea_Program...';


GO
ALTER TABLE [dbo].[Program]
    ADD CONSTRAINT [FK_StrategicArea_Program] FOREIGN KEY ([StrategicAreaID]) REFERENCES [dbo].[StrategicArea] ([StrategicAreaID]);


GO
PRINT N'Creating FK_PublicHealthOutbreak_PublicHealthCase...';


GO
ALTER TABLE [dbo].[PublicHealthCase]
    ADD CONSTRAINT [FK_PublicHealthOutbreak_PublicHealthCase] FOREIGN KEY ([PublicHealthOutbreakID]) REFERENCES [dbo].[PublicHealthOutbreak] ([PublicHealthOutbreakID]);


GO
PRINT N'Creating FK_ReportableDisease_PublicHealthOutbreak...';


GO
ALTER TABLE [dbo].[PublicHealthOutbreak]
    ADD CONSTRAINT [FK_ReportableDisease_PublicHealthOutbreak] FOREIGN KEY ([ReportableDiseaseID]) REFERENCES [dbo].[ReportableDisease] ([ReportableDiseaseID]);


GO
PRINT N'Creating RefOrganization304...';


GO
ALTER TABLE [dbo].[Site]
    ADD CONSTRAINT [RefOrganization304] FOREIGN KEY ([OrganizationID]) REFERENCES [dbo].[Organization] ([OrganizationID]);


GO
PRINT N'Creating RefPhysicalLocation302...';


GO
ALTER TABLE [dbo].[SitePhysicalLocation]
    ADD CONSTRAINT [RefPhysicalLocation302] FOREIGN KEY ([PhysicalLocationID]) REFERENCES [Protected].[PhysicalLocation] ([PhysicalLocationID]);


GO
PRINT N'Creating FK_Site_SitePhysicalLocation...';


GO
ALTER TABLE [dbo].[SitePhysicalLocation]
    ADD CONSTRAINT [FK_Site_SitePhysicalLocation] FOREIGN KEY ([SiteID]) REFERENCES [dbo].[Site] ([SiteID]);


GO
PRINT N'Creating RefHealthcareActivity354...';


GO
ALTER TABLE [dbo].[SubstanceAdministration]
    ADD CONSTRAINT [RefHealthcareActivity354] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
PRINT N'Creating FK_Antigen_VaccineAntigen...';


GO
ALTER TABLE [dbo].[VaccineAntigen]
    ADD CONSTRAINT [FK_Antigen_VaccineAntigen] FOREIGN KEY ([AntigenID]) REFERENCES [dbo].[Antigen] ([AntigenID]);


GO
PRINT N'Creating FK_Vaccine_VaccineAntigen...';


GO
ALTER TABLE [dbo].[VaccineAntigen]
    ADD CONSTRAINT [FK_Vaccine_VaccineAntigen] FOREIGN KEY ([VaccineID]) REFERENCES [dbo].[Vaccine] ([VaccineID]);


GO
PRINT N'Creating FK_ImmunizationContraindication_VaccineContraindication...';


GO
ALTER TABLE [dbo].[VaccineContraindication]
    ADD CONSTRAINT [FK_ImmunizationContraindication_VaccineContraindication] FOREIGN KEY ([ImmunizationContraindicationID]) REFERENCES [dbo].[ImmunizationContraindication] ([ImmunizationContraindicationID]);


GO
PRINT N'Creating FK_Vaccine_VaccineContraindication...';


GO
ALTER TABLE [dbo].[VaccineContraindication]
    ADD CONSTRAINT [FK_Vaccine_VaccineContraindication] FOREIGN KEY ([VaccineID]) REFERENCES [dbo].[Vaccine] ([VaccineID]);


GO
PRINT N'Creating FK_Site_VaccineInventory...';


GO
ALTER TABLE [dbo].[VaccineInventory]
    ADD CONSTRAINT [FK_Site_VaccineInventory] FOREIGN KEY ([SiteID]) REFERENCES [dbo].[Site] ([SiteID]);


GO
PRINT N'Creating FK_VaccineLot_VaccineInventory...';


GO
ALTER TABLE [dbo].[VaccineInventory]
    ADD CONSTRAINT [FK_VaccineLot_VaccineInventory] FOREIGN KEY ([VaccineLotID]) REFERENCES [dbo].[VaccineLot] ([VaccineLotID]);


GO
PRINT N'Creating FK_Program_VaccineInventoryEvent...';


GO
ALTER TABLE [dbo].[VaccineInventoryEvent]
    ADD CONSTRAINT [FK_Program_VaccineInventoryEvent] FOREIGN KEY ([ProgramID]) REFERENCES [dbo].[Program] ([ProgramID]);


GO
PRINT N'Creating FK_Site_VaccineInventoryEvent...';


GO
ALTER TABLE [dbo].[VaccineInventoryEvent]
    ADD CONSTRAINT [FK_Site_VaccineInventoryEvent] FOREIGN KEY ([SiteID]) REFERENCES [dbo].[Site] ([SiteID]);


GO
PRINT N'Creating FK_VaccineLot_VaccineInventoryEvent...';


GO
ALTER TABLE [dbo].[VaccineInventoryEvent]
    ADD CONSTRAINT [FK_VaccineLot_VaccineInventoryEvent] FOREIGN KEY ([VaccineLotID]) REFERENCES [dbo].[VaccineLot] ([VaccineLotID]);


GO
PRINT N'Creating FK_Vaccine_VaccineLot...';


GO
ALTER TABLE [dbo].[VaccineLot]
    ADD CONSTRAINT [FK_Vaccine_VaccineLot] FOREIGN KEY ([VaccineID]) REFERENCES [dbo].[Vaccine] ([VaccineID]);


GO
PRINT N'Creating RefHealthcareActivity352...';


GO
ALTER TABLE [dbo].[VitalSigns]
    ADD CONSTRAINT [RefHealthcareActivity352] FOREIGN KEY ([HealthcareActivityID]) REFERENCES [dbo].[HealthcareActivity] ([HealthcareActivityID]);


GO
DECLARE @VarDecimalSupported AS BIT;

SELECT @VarDecimalSupported = 0;

IF ((ServerProperty(N'EngineEdition') = 3)
    AND (((@@microsoftversion / power(2, 24) = 9)
          AND (@@microsoftversion & 0xffff >= 3024))
         OR ((@@microsoftversion / power(2, 24) = 10)
             AND (@@microsoftversion & 0xffff >= 1600))))
    SELECT @VarDecimalSupported = 1;

IF (@VarDecimalSupported > 0)
    BEGIN
        EXECUTE sp_db_vardecimal_storage_format N'$(DatabaseName)', 'ON';
    END


GO
PRINT N'Update complete.';


GO
